{"id":"node_modules/abcjs/src/synth/create-synth.js","dependencies":[{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\package.json","includedInParent":true,"mtime":1649031657578},{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\package.json","includedInParent":true,"mtime":1649031653004},{"name":"./load-note","loc":{"line":1,"column":22,"index":22},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\load-note.js"},{"name":"./create-note-map","loc":{"line":2,"column":28,"index":66},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-note-map.js"},{"name":"./register-audio-context","loc":{"line":3,"column":35,"index":123},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\register-audio-context.js"},{"name":"./active-audio-context","loc":{"line":4,"column":33,"index":185},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\active-audio-context.js"},{"name":"./supports-audio","loc":{"line":5,"column":28,"index":240},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\supports-audio.js"},{"name":"./pitch-to-note-name","loc":{"line":6,"column":30,"index":291},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\pitch-to-note-name.js"},{"name":"./instrument-index-to-name","loc":{"line":7,"column":36,"index":352},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\instrument-index-to-name.js"},{"name":"./download-buffer","loc":{"line":8,"column":29,"index":412},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\download-buffer.js"},{"name":"./place-note","loc":{"line":9,"column":24,"index":458},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\place-note.js"},{"name":"./sounds-cache","loc":{"line":10,"column":26,"index":501},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-synth.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\sounds-cache.js"}],"generated":{"js":"var getNote = require('./load-note');\nvar createNoteMap = require('./create-note-map');\nvar registerAudioContext = require('./register-audio-context');\nvar activeAudioContext = require('./active-audio-context');\nvar supportsAudio = require('./supports-audio');\nvar pitchToNoteName = require('./pitch-to-note-name');\nvar instrumentIndexToName = require('./instrument-index-to-name');\nvar downloadBuffer = require('./download-buffer');\nvar placeNote = require('./place-note');\nvar soundsCache = require('./sounds-cache');\n\n// TODO-PER: remove the midi tests from here: I don't think the object can be constructed unless it passes.\nvar notSupportedMessage = \"MIDI is not supported in this browser.\";\n\nvar originalSoundFontUrl = \"https://paulrosen.github.io/midi-js-soundfonts/abcjs/\";\n// These are the original soundfonts supplied. They will need a volume boost:\nvar defaultSoundFontUrl = \"https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/\";\nvar alternateSoundFontUrl = \"https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/\";\n\nfunction CreateSynth() {\n\tvar self = this;\n\tself.audioBufferPossible = undefined;\n\tself.directSource = []; // type: AudioBufferSourceNode\n\tself.startTimeSec = undefined; // the time (in seconds) that the audio started: used for pause to get the pausedTimeSec.\n\tself.pausedTimeSec = undefined; // the position (in seconds) that the audio was paused: used for resume.\n\tself.audioBuffers = []; // cache of the buffers so starting play can be fast.\n\tself.duration = undefined; // the duration of the tune in seconds.\n\tself.isRunning = false; // whether there is currently a sound buffer running.\n\n\t// Load and cache all needed sounds\n\tself.init = function(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tregisterAudioContext(options.audioContext); // This works no matter what - if there is already an ac it is a nop; if the context is not passed in, then it creates one.\n\t\tvar startTime = activeAudioContext().currentTime;\n\t\tself.debugCallback = options.debugCallback;\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"init called\");\n\t\tself.audioBufferPossible = self._deviceCapable();\n\t\tif (!self.audioBufferPossible)\n\t\t\treturn Promise.reject({ status: \"NotSupported\", message: notSupportedMessage});\n\t\tvar params = options.options ? options.options : {};\n\t\tself.soundFontUrl = params.soundFontUrl ? params.soundFontUrl : defaultSoundFontUrl;\n\t\tif (self.soundFontUrl[self.soundFontUrl.length-1] !== '/')\n\t\t\tself.soundFontUrl += '/';\n\t\tif (params.soundFontVolumeMultiplier || params.soundFontVolumeMultiplier === 0)\n\t\t\tself.soundFontVolumeMultiplier = params.soundFontVolumeMultiplier;\n\t\telse if (self.soundFontUrl === defaultSoundFontUrl || self.soundFontUrl === alternateSoundFontUrl)\n\t\t\tself.soundFontVolumeMultiplier = 3.0;\n\t\telse if (self.soundFontUrl === originalSoundFontUrl)\n\t\t\tself.soundFontVolumeMultiplier = 0.4;\n\t\telse\n\t\t\tself.soundFontVolumeMultiplier = 1.0;\n\t\tif (params.programOffsets)\n\t\t\tself.programOffsets = params.programOffsets;\n\t\telse if (self.soundFontUrl === originalSoundFontUrl)\n\t\t\tself.programOffsets = {\n\t\t\t\t\"bright_acoustic_piano\": 20,\n\t\t\t\t\"honkytonk_piano\": 20,\n\t\t\t\t\"electric_piano_1\": 30,\n\t\t\t\t\"electric_piano_2\": 30,\n\t\t\t\t\"harpsichord\": 40,\n\t\t\t\t\"clavinet\": 20,\n\t\t\t\t\"celesta\": 20,\n\t\t\t\t\"glockenspiel\": 40,\n\t\t\t\t\"vibraphone\": 30,\n\t\t\t\t\"marimba\": 35,\n\t\t\t\t\"xylophone\": 30,\n\t\t\t\t\"tubular_bells\": 35,\n\t\t\t\t\"dulcimer\": 30,\n\t\t\t\t\"drawbar_organ\": 20,\n\t\t\t\t\"percussive_organ\": 25,\n\t\t\t\t\"rock_organ\": 20,\n\t\t\t\t\"church_organ\": 40,\n\t\t\t\t\"reed_organ\": 40,\n\t\t\t\t\"accordion\": 40,\n\t\t\t\t\"harmonica\": 40,\n\t\t\t\t\"acoustic_guitar_nylon\": 20,\n\t\t\t\t\"acoustic_guitar_steel\": 30,\n\t\t\t\t\"electric_guitar_jazz\": 25,\n\t\t\t\t\"electric_guitar_clean\": 15,\n\t\t\t\t\"electric_guitar_muted\": 35,\n\t\t\t\t\"overdriven_guitar\": 25,\n\t\t\t\t\"distortion_guitar\": 20,\n\t\t\t\t\"guitar_harmonics\": 30,\n\t\t\t\t\"electric_bass_finger\": 15,\n\t\t\t\t\"electric_bass_pick\": 30,\n\t\t\t\t\"fretless_bass\": 40,\n\t\t\t\t\"violin\": 105,\n\t\t\t\t\"viola\": 50,\n\t\t\t\t\"cello\": 40,\n\t\t\t\t\"contrabass\": 60,\n\t\t\t\t\"trumpet\": 10,\n\t\t\t\t\"trombone\": 90,\n\t\t\t\t\"alto_sax\": 20,\n\t\t\t\t\"tenor_sax\": 20,\n\t\t\t\t\"clarinet\": 20,\n\t\t\t\t\"flute\": 50,\n\t\t\t\t\"banjo\": 50,\n\t\t\t\t\"woodblock\": 20,\n\t\t\t};\n\t\telse\n\t\t\tself.programOffsets = {};\n\t\tvar p = params.fadeLength !== undefined ? parseInt(params.fadeLength,10) : NaN;\n\t\tself.fadeLength = isNaN(p) ? 200 : p;\n\t\tp = params.noteEnd !== undefined ? parseInt(params.noteEnd,10) : NaN;\n\t\tself.noteEnd = isNaN(p) ? 0 : p;\n\n\t\tself.pan = params.pan;\n\t\tself.meterSize = 1;\n\t\tif (options.visualObj) {\n\t\t\tself.flattened = options.visualObj.setUpAudio(params);\n\t\t\tvar meter = options.visualObj.getMeterFraction();\n\t\t\tif (meter.den)\n\t\t\t\tself.meterSize = options.visualObj.getMeterFraction().num / options.visualObj.getMeterFraction().den;\n\t\t} else if (options.sequence)\n\t\t\tself.flattened = options.sequence;\n\t\telse\n\t\t\treturn Promise.reject(new Error(\"Must pass in either a visualObj or a sequence\"));\n\t\tself.millisecondsPerMeasure = options.millisecondsPerMeasure ? options.millisecondsPerMeasure : (options.visualObj ? options.visualObj.millisecondsPerMeasure(self.flattened.tempo) : 1000);\n\t\tself.beatsPerMeasure = options.visualObj ? options.visualObj.getBeatsPerMeasure() : 4;\n\t\tself.sequenceCallback = params.sequenceCallback;\n\t\tself.callbackContext = params.callbackContext;\n\t\tself.onEnded = params.onEnded;\n\n\t\tvar allNotes = {};\n\t\tvar cached = [];\n\t\tvar errorNotes = [];\n\t\tvar currentInstrument = instrumentIndexToName[0];\n\t\tself.flattened.tracks.forEach(function(track) {\n\t\t\ttrack.forEach(function(event) {\n\t\t\t\tif (event.cmd === \"program\" && instrumentIndexToName[event.instrument])\n\t\t\t\t\tcurrentInstrument = instrumentIndexToName[event.instrument];\n\t\t\t\tif (event.pitch !== undefined) {\n\t\t\t\t\tvar pitchNumber = event.pitch;\n\t\t\t\t\tvar noteName = pitchToNoteName[pitchNumber];\n\t\t\t\t\tif (noteName) {\n\t\t\t\t\t\tif (!allNotes[currentInstrument])\n\t\t\t\t\t\t\tallNotes[currentInstrument] = {};\n\t\t\t\t\t\tif (!soundsCache[currentInstrument] || !soundsCache[currentInstrument][noteName])\n\t\t\t\t\t\t\tallNotes[currentInstrument][noteName] = true;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar label2 = currentInstrument+\":\"+noteName\n\t\t\t\t\t\t\tif (cached.indexOf(label2) < 0)\n\t\t\t\t\t\t\t\tcached.push(label2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar label = currentInstrument+\":\"+noteName\n\t\t\t\t\t\tconsole.log(\"Can't find note: \", pitchNumber, label);\n\t\t\t\t\t\tif (errorNotes.indexOf(label) < 0)\n\t\t\t\t\t\t\terrorNotes.push(label)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"note gathering time = \" + Math.floor((activeAudioContext().currentTime - startTime)*1000)+\"ms\");\n\t\tstartTime = activeAudioContext().currentTime;\n\n\t\tvar notes = [];\n\t\tObject.keys(allNotes).forEach(function(instrument) {\n\t\t\tObject.keys(allNotes[instrument]).forEach(function(note) {\n\t\t\t\tnotes.push({ instrument: instrument, note: note });\n\t\t\t});\n\t\t});\n\t\t// If there are lots of notes, load them in batches\n\t\tvar batches = [];\n\t\tvar CHUNK = 256;\n\t\tfor (var i=0; i < notes.length; i += CHUNK) {\n\t\t\tbatches.push(notes.slice(i, i + CHUNK));\n\t\t}\n\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tvar results = {\n\t\t\t\tcached: cached,\n\t\t\t\terror: errorNotes,\n\t\t\t\tloaded: []\n\t\t\t};\n\n\t\t\tvar index = 0;\n\t\t\tvar next = function() {\n\t\t\t\tif (index < batches.length) {\n\t\t\t\t\tself._loadBatch(batches[index], self.soundFontUrl, startTime).then(function(data) {\n\t\t\t\t\t\tstartTime = activeAudioContext().currentTime;\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tif (data.error)\n\t\t\t\t\t\t\t\tresults.error = results.error.concat(data.error);\n\t\t\t\t\t\t\tif (data.loaded)\n\t\t\t\t\t\t\t\tresults.loaded = results.loaded.concat(data.loaded);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}, reject);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results);\n\t\t\t\t}\n\t\t\t};\n\t\t\tnext();\n\t\t});\n\t};\n\n\tself._loadBatch = (function(batch, soundFontUrl, startTime, delay) {\n\t\t// This is called recursively to see if the sounds have loaded. The \"delay\" parameter is how long it has been since the original call.\n\t\tvar promises = [];\n\t\tbatch.forEach(function(item) {\n\t\t\tpromises.push(getNote(soundFontUrl, item.instrument, item.note, activeAudioContext()));\n\t\t});\n\t\treturn Promise.all(promises).then(function(response) {\n\t\t\tif (self.debugCallback)\n\t\t\t\tself.debugCallback(\"mp3 load time = \" + Math.floor((activeAudioContext().currentTime - startTime)*1000)+\"ms\");\n\t\t\tvar loaded = [];\n\t\t\tvar cached = [];\n\t\t\tvar pending = [];\n\t\t\tvar error = [];\n\t\t\tfor (var i = 0; i < response.length; i++) {\n\t\t\t\tvar oneResponse = response[i];\n\t\t\t\tvar which = oneResponse.instrument + \":\" + oneResponse.name;\n\t\t\t\tif (oneResponse.status === \"loaded\")\n\t\t\t\t\tloaded.push(which);\n\t\t\t\telse if (oneResponse.status === \"pending\")\n\t\t\t\t\tpending.push(which);\n\t\t\t\telse if (oneResponse.status === \"cached\")\n\t\t\t\t\tcached.push(which);\n\t\t\t\telse\n\t\t\t\t\terror.push(which + ' ' + oneResponse.message);\n\t\t\t}\n\t\t\tif (pending.length > 0) {\n\t\t\t\t// There was probably a second call for notes before the first one finished, so just retry a few times to see if they stop being pending.\n\t\t\t\t// Retry quickly at first so that there isn't an unnecessary delay, but increase the delay each time.\n\t\t\t\tif (!delay)\n\t\t\t\t\tdelay = 50;\n\t\t\t\telse\n\t\t\t\t\tdelay = delay * 2;\n\t\t\t\tif (delay < 90000) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tvar newBatch = [];\n\t\t\t\t\t\t\tfor (i = 0; i < pending.length; i++) {\n\t\t\t\t\t\t\t\twhich = pending[i].split(\":\");\n\t\t\t\t\t\t\t\tnewBatch.push({instrument: which[0], note: which[1]});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._loadBatch(newBatch, soundFontUrl, startTime, delay).then(function (response) {\n\t\t\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, delay);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar list = [];\n\t\t\t\t\tfor (var j = 0; j < batch.length; j++)\n\t\t\t\t\t\tlist.push(batch[j].instrument+'/'+batch[j].note)\n\t\t\t\t\treturn Promise.reject(new Error(\"timeout attempting to load: \" + list.join(\", \")));\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\treturn Promise.resolve({loaded: loaded, cached: cached, error: error});\n\t\t}).catch(function (error) {\n\t\t});\n\t});\n\n\tself.prime = function() {\n\t\t// At this point all of the notes are loaded. This function writes them into the output buffer.\n\t\t// Most music has a lot of repeating notes. If a note is the same pitch, volume, length, etc. as another one,\n\t\t// It saves a lot of time to just create it once and place it repeatedly where ever it needs to be.\n\t\tvar fadeTimeSec = self.fadeLength/1000;\n\t\tself.isRunning = false;\n\t\tif (!self.audioBufferPossible)\n\t\t\treturn Promise.reject(new Error(notSupportedMessage));\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"prime called\");\n\t\treturn new Promise(function(resolve) {\n\t\t\tvar startTime = activeAudioContext().currentTime;\n\t\t\tvar tempoMultiplier = self.millisecondsPerMeasure / 1000 / self.meterSize;\n\t\t\tself.duration = self.flattened.totalDuration * tempoMultiplier;\n\t\t\tif(self.duration <= 0) {\n\t\t\t\tself.audioBuffers = [];\n\t\t\t\treturn resolve({ status: \"empty\", seconds: 0});\n\t\t\t}\n\t\t\tself.duration += fadeTimeSec;\n\t\t\tvar totalSamples = Math.floor(activeAudioContext().sampleRate * self.duration);\n\n\t\t\t// There might be a previous run that needs to be turned off.\n\t\t\tself.stop();\n\n\t\t\tvar noteMapTracks = createNoteMap(self.flattened);\n\t\t\tif (self.sequenceCallback)\n\t\t\t\tself.sequenceCallback(noteMapTracks, self.callbackContext);\n\n\t\t\tvar panDistances = setPan(noteMapTracks.length, self.pan);\n\n\t\t\t// Create a simple list of all the unique sounds in this music and where they should be placed.\n\t\t\t// There appears to be a limit on how many audio buffers can be created at once so this technique limits the number needed.\n\t\t\tvar uniqueSounds = {};\n\t\t\tnoteMapTracks.forEach(function(noteMap, trackNumber) {\n\t\t\t\tvar panDistance = panDistances && panDistances.length > trackNumber ? panDistances[trackNumber] : 0;\n\t\t\t\tnoteMap.forEach(function(note) {\n\t\t\t\t\tvar key = note.instrument + ':' + note.pitch + ':' +note.volume + ':' + Math.round((note.end-note.start)*1000)/1000 + ':' + panDistance + ':' + tempoMultiplier + ':' + (note.cents ? note.cents : 0);\n\t\t\t\t\tif (!uniqueSounds[key])\n\t\t\t\t\t\tuniqueSounds[key] = [];\n\t\t\t\t\tuniqueSounds[key].push(note.start);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Now that we know what we are trying to create, construct the audio buffer by creating each sound and placing it.\n\t\t\tvar allPromises = [];\n\t\t\tvar audioBuffer = activeAudioContext().createBuffer(2, totalSamples, activeAudioContext().sampleRate);\n\t\t\tfor (var key2 = 0; key2 < Object.keys(uniqueSounds).length; key2++) {\n\t\t\t\tvar k = Object.keys(uniqueSounds)[key2];\n\t\t\t\tvar parts = k.split(\":\");\n\t\t\t\tvar cents = parts[6] !== undefined ? parseFloat(parts[6]) : 0;\n\t\t\t\tparts = {instrument: parts[0], pitch: parseInt(parts[1], 10), volume: parseInt(parts[2], 10), len: parseFloat(parts[3]), pan: parseFloat(parts[4]), tempoMultiplier: parseFloat(parts[5]), cents: cents};\n\t\t\t\tallPromises.push(placeNote(audioBuffer, activeAudioContext().sampleRate, parts, uniqueSounds[k], self.soundFontVolumeMultiplier, self.programOffsets[parts.instrument], fadeTimeSec, self.noteEnd/1000));\n\t\t\t}\n\t\t\tself.audioBuffers = [audioBuffer];\n\n\t\t\tif (self.debugCallback) {\n\t\t\t\tself.debugCallback(\"sampleRate = \" + activeAudioContext().sampleRate);\n\t\t\t\tself.debugCallback(\"totalSamples = \" + totalSamples);\n\t\t\t\tself.debugCallback(\"creationTime = \" + Math.floor((activeAudioContext().currentTime - startTime)*1000) + \"ms\");\n\t\t\t}\n\t\t\tfunction resolveData(me) {\n\t\t\t\tvar duration = me && me.audioBuffers && me.audioBuffers.length > 0 ? me.audioBuffers[0].duration : 0;\n\t\t\t\treturn { status: activeAudioContext().state, duration: duration}\n\t\t\t}\n\t\t\tPromise.all(allPromises).then(function() {\n\t\t\t\t// Safari iOS can mess with the audioContext state, so resume if needed.\n\t\t\t\tif (activeAudioContext().state === \"suspended\") {\n\t\t\t\t\tactiveAudioContext().resume().then(function () {\n\t\t\t\t\t\tresolve(resolveData(self));\n\t\t\t\t\t})\n\t\t\t\t} else if (activeAudioContext().state === \"interrupted\") {\n\t\t\t\t\tactiveAudioContext().suspend().then(function () {\n\t\t\t\t\t\tactiveAudioContext().resume().then(function () {\n\t\t\t\t\t\t\tresolve(resolveData(self));\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tresolve(resolveData(self));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tfunction setPan(numTracks, panParam) {\n\t\t// panParam, if it is set, can be either a number representing the separation between each track,\n\t\t// or an array, which is the absolute pan position for each track.\n\t\tif (panParam === null || panParam === undefined)\n\t\t\treturn null;\n\n\t\tvar panDistances = [];\n\t\tif (panParam.length) {\n\t\t\t// We received an array. If there are the same number of items in the pan array as the number of tracks,\n\t\t\t// it all lines up perfectly. If there are more items in the pan array than the tracks then the excess items are ignored.\n\t\t\t// If there are more tracks than items in the pan array then the remaining tracks are placed in the middle.\n\t\t\t// If any of the pan numbers are out of range then they are adjusted.\n\t\t\tfor (var pp = 0; pp < numTracks; pp++) {\n\t\t\t\tif (pp < panParam.length) {\n\t\t\t\t\tvar x = parseFloat(panParam[pp]);\n\t\t\t\t\tif (x < -1)\n\t\t\t\t\t\tx = -1;\n\t\t\t\t\telse if (x > 1)\n\t\t\t\t\t\tx = 1;\n\t\t\t\t\tpanDistances.push(x);\n\t\t\t\t} else\n\t\t\t\t\tpanDistances.push(0)\n\t\t\t}\n\t\t\treturn panDistances;\n\t\t} else {\n\t\t\tvar panNumber = parseFloat(panParam);\n\t\t\t// the separation needs to be no further than 2 (i.e. -1 to 1) so test to see if there are too many tracks for the passed in distance\n\t\t\tif (panNumber*(numTracks-1) > 2)\n\t\t\t\treturn null;\n\n\t\t\t// If there are an even number of tracks, then offset so that the first two are centered around the middle\n\t\t\tvar even = numTracks % 2 === 0;\n\t\t\tvar currLow = even ? 0 - panNumber/2 : 0;\n\t\t\tvar currHigh = currLow+panNumber;\n\t\t\t// Now add the tracks to either side\n\t\t\tfor (var p = 0; p < numTracks; p++) {\n\t\t\t\teven = p % 2 === 0;\n\t\t\t\tif (even) {\n\t\t\t\t\tpanDistances.push(currLow);\n\t\t\t\t\tcurrLow -= panNumber;\n\t\t\t\t} else {\n\t\t\t\t\tpanDistances.push(currHigh);\n\t\t\t\t\tcurrHigh += panNumber;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn panDistances;\n\t\t}\n\t\t// There was either no panning, or the parameters were illegal\n\t\treturn null;\n\t}\n\n\t// This is called after everything is set up, so it can quickly make sound\n\tself.start = function() {\n\t\tif (!self.audioBufferPossible)\n\t\t\tthrow new Error(notSupportedMessage);\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"start called\");\n\n\t\tvar resumePosition = self.pausedTimeSec ? self.pausedTimeSec : 0;\n\t\tself._kickOffSound(resumePosition);\n\t\tself.startTimeSec = activeAudioContext().currentTime - resumePosition;\n\t\tself.pausedTimeSec = undefined;\n\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"MIDI STARTED\", self.startTimeSec);\n\t};\n\n\tself.pause = function() {\n\t\tif (!self.audioBufferPossible)\n\t\t\tthrow new Error(notSupportedMessage);\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"pause called\");\n\n\t\tself.pausedTimeSec = self.stop();\n\t\treturn self.pausedTimeSec;\n\t};\n\n\tself.resume = function() {\n\t\tself.start();\n\t};\n\n\tself.seek = function(position, units) {\n\t\tvar offset;\n\t\tswitch (units) {\n\t\t\tcase \"seconds\":\n\t\t\t\toffset = position;\n\t\t\t\tbreak;\n\t\t\tcase \"beats\":\n\t\t\t\toffset = position * self.millisecondsPerMeasure / self.beatsPerMeasure / 1000;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// this is \"percent\" or any illegal value\n\t\t\t\toffset = (self.duration-self.fadeLength/1000) * position;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// TODO-PER: can seek when paused or when playing\n\t\tif (!self.audioBufferPossible)\n\t\t\tthrow new Error(notSupportedMessage);\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"seek called sec=\" + offset);\n\n\t\tif (self.isRunning) {\n\t\t\tself.stop();\n\t\t\tself._kickOffSound(offset);\n\t\t} else {\n\t\t\tself.pausedTimeSec = offset;\n\t\t}\n\t\tself.pausedTimeSec = offset;\n\t};\n\n\tself.stop = function() {\n\t\tself.isRunning = false;\n\t\tself.pausedTimeSec = undefined;\n\t\tself.directSource.forEach(function(source) {\n\t\t\ttry {\n\t\t\t\tsource.stop();\n\t\t\t} catch (error) {\n\t\t\t\t// We don't care if self succeeds: it might fail if something else turned off the sound or it ended for some reason.\n\t\t\t\tconsole.log(\"direct source didn't stop:\", error)\n\t\t\t}\n\t\t});\n\t\tself.directSource = [];\n\t\tvar elapsed = activeAudioContext().currentTime - self.startTimeSec;\n\t\treturn elapsed;\n\t};\n\tself.finished = function() {\n\t\tself.startTimeSec = undefined;\n\t\tself.pausedTimeSec = undefined;\n\t\tself.isRunning = false;\n\t};\n\n\tself.download = function() {\n\t\treturn downloadBuffer(self);\n\t};\n\n\t/////////////// Private functions //////////////\n\n\tself._deviceCapable = function() {\n\t\tif (!supportsAudio()) {\n\t\t\tconsole.warn(notSupportedMessage);\n\t\t\tif (self.debugCallback)\n\t\t\t\tself.debugCallback(notSupportedMessage);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tself._kickOffSound = function(seconds) {\n\t\tself.isRunning = true;\n\t\tself.directSource = [];\n\t\tself.audioBuffers.forEach(function(audioBuffer, trackNum) {\n\t\t\tself.directSource[trackNum] = activeAudioContext().createBufferSource(); // creates a sound source\n\t\t\tself.directSource[trackNum].buffer = audioBuffer; // tell the source which sound to play\n\t\t\tself.directSource[trackNum].connect(activeAudioContext().destination); // connect the source to the context's destination (the speakers)\n\t\t});\n\t\tself.directSource.forEach(function(source) {\n\t\t\tsource.start(0, seconds);\n\t\t});\n\t\tif (self.onEnded) {\n\t\t\tself.directSource[0].onended = function () {\n\t\t\t\tself.onEnded(self.callbackContext);\n\t\t\t};\n\t\t}\n\t};\n}\n\nmodule.exports = CreateSynth;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":140,"column":0},"generated":{"line":140,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":141,"column":0},"generated":{"line":141,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":142,"column":0},"generated":{"line":142,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":143,"column":0},"generated":{"line":143,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":144,"column":0},"generated":{"line":144,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":145,"column":0},"generated":{"line":145,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":146,"column":0},"generated":{"line":146,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":147,"column":0},"generated":{"line":147,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":148,"column":0},"generated":{"line":148,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":149,"column":0},"generated":{"line":149,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":150,"column":0},"generated":{"line":150,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":151,"column":0},"generated":{"line":151,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":152,"column":0},"generated":{"line":152,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":153,"column":0},"generated":{"line":153,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":154,"column":0},"generated":{"line":154,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":155,"column":0},"generated":{"line":155,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":156,"column":0},"generated":{"line":156,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":157,"column":0},"generated":{"line":157,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":158,"column":0},"generated":{"line":158,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":159,"column":0},"generated":{"line":159,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":160,"column":0},"generated":{"line":160,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":161,"column":0},"generated":{"line":161,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":162,"column":0},"generated":{"line":162,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":163,"column":0},"generated":{"line":163,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":164,"column":0},"generated":{"line":164,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":165,"column":0},"generated":{"line":165,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":166,"column":0},"generated":{"line":166,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":167,"column":0},"generated":{"line":167,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":168,"column":0},"generated":{"line":168,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":169,"column":0},"generated":{"line":169,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":170,"column":0},"generated":{"line":170,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":171,"column":0},"generated":{"line":171,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":172,"column":0},"generated":{"line":172,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":173,"column":0},"generated":{"line":173,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":174,"column":0},"generated":{"line":174,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":175,"column":0},"generated":{"line":175,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":176,"column":0},"generated":{"line":176,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":177,"column":0},"generated":{"line":177,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":178,"column":0},"generated":{"line":178,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":179,"column":0},"generated":{"line":179,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":180,"column":0},"generated":{"line":180,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":181,"column":0},"generated":{"line":181,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":182,"column":0},"generated":{"line":182,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":183,"column":0},"generated":{"line":183,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":184,"column":0},"generated":{"line":184,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":185,"column":0},"generated":{"line":185,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":186,"column":0},"generated":{"line":186,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":187,"column":0},"generated":{"line":187,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":188,"column":0},"generated":{"line":188,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":189,"column":0},"generated":{"line":189,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":190,"column":0},"generated":{"line":190,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":191,"column":0},"generated":{"line":191,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":192,"column":0},"generated":{"line":192,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":193,"column":0},"generated":{"line":193,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":194,"column":0},"generated":{"line":194,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":195,"column":0},"generated":{"line":195,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":196,"column":0},"generated":{"line":196,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":197,"column":0},"generated":{"line":197,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":198,"column":0},"generated":{"line":198,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":199,"column":0},"generated":{"line":199,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":200,"column":0},"generated":{"line":200,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":201,"column":0},"generated":{"line":201,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":202,"column":0},"generated":{"line":202,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":203,"column":0},"generated":{"line":203,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":204,"column":0},"generated":{"line":204,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":205,"column":0},"generated":{"line":205,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":206,"column":0},"generated":{"line":206,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":207,"column":0},"generated":{"line":207,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":208,"column":0},"generated":{"line":208,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":209,"column":0},"generated":{"line":209,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":210,"column":0},"generated":{"line":210,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":211,"column":0},"generated":{"line":211,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":212,"column":0},"generated":{"line":212,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":213,"column":0},"generated":{"line":213,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":214,"column":0},"generated":{"line":214,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":215,"column":0},"generated":{"line":215,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":216,"column":0},"generated":{"line":216,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":217,"column":0},"generated":{"line":217,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":218,"column":0},"generated":{"line":218,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":219,"column":0},"generated":{"line":219,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":220,"column":0},"generated":{"line":220,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":221,"column":0},"generated":{"line":221,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":222,"column":0},"generated":{"line":222,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":223,"column":0},"generated":{"line":223,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":224,"column":0},"generated":{"line":224,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":225,"column":0},"generated":{"line":225,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":226,"column":0},"generated":{"line":226,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":227,"column":0},"generated":{"line":227,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":228,"column":0},"generated":{"line":228,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":229,"column":0},"generated":{"line":229,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":230,"column":0},"generated":{"line":230,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":231,"column":0},"generated":{"line":231,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":232,"column":0},"generated":{"line":232,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":233,"column":0},"generated":{"line":233,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":234,"column":0},"generated":{"line":234,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":235,"column":0},"generated":{"line":235,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":236,"column":0},"generated":{"line":236,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":237,"column":0},"generated":{"line":237,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":238,"column":0},"generated":{"line":238,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":239,"column":0},"generated":{"line":239,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":240,"column":0},"generated":{"line":240,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":241,"column":0},"generated":{"line":241,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":242,"column":0},"generated":{"line":242,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":243,"column":0},"generated":{"line":243,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":244,"column":0},"generated":{"line":244,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":245,"column":0},"generated":{"line":245,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":246,"column":0},"generated":{"line":246,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":247,"column":0},"generated":{"line":247,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":248,"column":0},"generated":{"line":248,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":249,"column":0},"generated":{"line":249,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":250,"column":0},"generated":{"line":250,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":251,"column":0},"generated":{"line":251,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":252,"column":0},"generated":{"line":252,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":253,"column":0},"generated":{"line":253,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":254,"column":0},"generated":{"line":254,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":255,"column":0},"generated":{"line":255,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":256,"column":0},"generated":{"line":256,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":257,"column":0},"generated":{"line":257,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":258,"column":0},"generated":{"line":258,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":259,"column":0},"generated":{"line":259,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":260,"column":0},"generated":{"line":260,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":261,"column":0},"generated":{"line":261,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":262,"column":0},"generated":{"line":262,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":263,"column":0},"generated":{"line":263,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":264,"column":0},"generated":{"line":264,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":265,"column":0},"generated":{"line":265,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":266,"column":0},"generated":{"line":266,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":267,"column":0},"generated":{"line":267,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":268,"column":0},"generated":{"line":268,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":269,"column":0},"generated":{"line":269,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":270,"column":0},"generated":{"line":270,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":271,"column":0},"generated":{"line":271,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":272,"column":0},"generated":{"line":272,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":273,"column":0},"generated":{"line":273,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":274,"column":0},"generated":{"line":274,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":275,"column":0},"generated":{"line":275,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":276,"column":0},"generated":{"line":276,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":277,"column":0},"generated":{"line":277,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":278,"column":0},"generated":{"line":278,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":279,"column":0},"generated":{"line":279,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":280,"column":0},"generated":{"line":280,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":281,"column":0},"generated":{"line":281,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":282,"column":0},"generated":{"line":282,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":283,"column":0},"generated":{"line":283,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":284,"column":0},"generated":{"line":284,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":285,"column":0},"generated":{"line":285,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":286,"column":0},"generated":{"line":286,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":287,"column":0},"generated":{"line":287,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":288,"column":0},"generated":{"line":288,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":289,"column":0},"generated":{"line":289,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":290,"column":0},"generated":{"line":290,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":291,"column":0},"generated":{"line":291,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":292,"column":0},"generated":{"line":292,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":293,"column":0},"generated":{"line":293,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":294,"column":0},"generated":{"line":294,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":295,"column":0},"generated":{"line":295,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":296,"column":0},"generated":{"line":296,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":297,"column":0},"generated":{"line":297,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":298,"column":0},"generated":{"line":298,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":299,"column":0},"generated":{"line":299,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":300,"column":0},"generated":{"line":300,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":301,"column":0},"generated":{"line":301,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":302,"column":0},"generated":{"line":302,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":303,"column":0},"generated":{"line":303,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":304,"column":0},"generated":{"line":304,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":305,"column":0},"generated":{"line":305,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":306,"column":0},"generated":{"line":306,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":307,"column":0},"generated":{"line":307,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":308,"column":0},"generated":{"line":308,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":309,"column":0},"generated":{"line":309,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":310,"column":0},"generated":{"line":310,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":311,"column":0},"generated":{"line":311,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":312,"column":0},"generated":{"line":312,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":313,"column":0},"generated":{"line":313,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":314,"column":0},"generated":{"line":314,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":315,"column":0},"generated":{"line":315,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":316,"column":0},"generated":{"line":316,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":317,"column":0},"generated":{"line":317,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":318,"column":0},"generated":{"line":318,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":319,"column":0},"generated":{"line":319,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":320,"column":0},"generated":{"line":320,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":321,"column":0},"generated":{"line":321,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":322,"column":0},"generated":{"line":322,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":323,"column":0},"generated":{"line":323,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":324,"column":0},"generated":{"line":324,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":325,"column":0},"generated":{"line":325,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":326,"column":0},"generated":{"line":326,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":327,"column":0},"generated":{"line":327,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":328,"column":0},"generated":{"line":328,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":329,"column":0},"generated":{"line":329,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":330,"column":0},"generated":{"line":330,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":331,"column":0},"generated":{"line":331,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":332,"column":0},"generated":{"line":332,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":333,"column":0},"generated":{"line":333,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":334,"column":0},"generated":{"line":334,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":335,"column":0},"generated":{"line":335,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":336,"column":0},"generated":{"line":336,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":337,"column":0},"generated":{"line":337,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":338,"column":0},"generated":{"line":338,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":339,"column":0},"generated":{"line":339,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":340,"column":0},"generated":{"line":340,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":341,"column":0},"generated":{"line":341,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":342,"column":0},"generated":{"line":342,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":343,"column":0},"generated":{"line":343,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":344,"column":0},"generated":{"line":344,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":345,"column":0},"generated":{"line":345,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":346,"column":0},"generated":{"line":346,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":347,"column":0},"generated":{"line":347,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":348,"column":0},"generated":{"line":348,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":349,"column":0},"generated":{"line":349,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":350,"column":0},"generated":{"line":350,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":351,"column":0},"generated":{"line":351,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":352,"column":0},"generated":{"line":352,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":353,"column":0},"generated":{"line":353,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":354,"column":0},"generated":{"line":354,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":355,"column":0},"generated":{"line":355,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":356,"column":0},"generated":{"line":356,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":357,"column":0},"generated":{"line":357,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":358,"column":0},"generated":{"line":358,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":359,"column":0},"generated":{"line":359,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":360,"column":0},"generated":{"line":360,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":361,"column":0},"generated":{"line":361,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":362,"column":0},"generated":{"line":362,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":363,"column":0},"generated":{"line":363,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":364,"column":0},"generated":{"line":364,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":365,"column":0},"generated":{"line":365,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":366,"column":0},"generated":{"line":366,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":367,"column":0},"generated":{"line":367,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":368,"column":0},"generated":{"line":368,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":369,"column":0},"generated":{"line":369,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":370,"column":0},"generated":{"line":370,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":371,"column":0},"generated":{"line":371,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":372,"column":0},"generated":{"line":372,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":373,"column":0},"generated":{"line":373,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":374,"column":0},"generated":{"line":374,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":375,"column":0},"generated":{"line":375,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":376,"column":0},"generated":{"line":376,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":377,"column":0},"generated":{"line":377,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":378,"column":0},"generated":{"line":378,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":379,"column":0},"generated":{"line":379,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":380,"column":0},"generated":{"line":380,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":381,"column":0},"generated":{"line":381,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":382,"column":0},"generated":{"line":382,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":383,"column":0},"generated":{"line":383,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":384,"column":0},"generated":{"line":384,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":385,"column":0},"generated":{"line":385,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":386,"column":0},"generated":{"line":386,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":387,"column":0},"generated":{"line":387,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":388,"column":0},"generated":{"line":388,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":389,"column":0},"generated":{"line":389,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":390,"column":0},"generated":{"line":390,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":391,"column":0},"generated":{"line":391,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":392,"column":0},"generated":{"line":392,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":393,"column":0},"generated":{"line":393,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":394,"column":0},"generated":{"line":394,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":395,"column":0},"generated":{"line":395,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":396,"column":0},"generated":{"line":396,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":397,"column":0},"generated":{"line":397,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":398,"column":0},"generated":{"line":398,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":399,"column":0},"generated":{"line":399,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":400,"column":0},"generated":{"line":400,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":401,"column":0},"generated":{"line":401,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":402,"column":0},"generated":{"line":402,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":403,"column":0},"generated":{"line":403,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":404,"column":0},"generated":{"line":404,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":405,"column":0},"generated":{"line":405,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":406,"column":0},"generated":{"line":406,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":407,"column":0},"generated":{"line":407,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":408,"column":0},"generated":{"line":408,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":409,"column":0},"generated":{"line":409,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":410,"column":0},"generated":{"line":410,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":411,"column":0},"generated":{"line":411,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":412,"column":0},"generated":{"line":412,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":413,"column":0},"generated":{"line":413,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":414,"column":0},"generated":{"line":414,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":415,"column":0},"generated":{"line":415,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":416,"column":0},"generated":{"line":416,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":417,"column":0},"generated":{"line":417,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":418,"column":0},"generated":{"line":418,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":419,"column":0},"generated":{"line":419,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":420,"column":0},"generated":{"line":420,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":421,"column":0},"generated":{"line":421,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":422,"column":0},"generated":{"line":422,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":423,"column":0},"generated":{"line":423,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":424,"column":0},"generated":{"line":424,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":425,"column":0},"generated":{"line":425,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":426,"column":0},"generated":{"line":426,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":427,"column":0},"generated":{"line":427,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":428,"column":0},"generated":{"line":428,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":429,"column":0},"generated":{"line":429,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":430,"column":0},"generated":{"line":430,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":431,"column":0},"generated":{"line":431,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":432,"column":0},"generated":{"line":432,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":433,"column":0},"generated":{"line":433,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":434,"column":0},"generated":{"line":434,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":435,"column":0},"generated":{"line":435,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":436,"column":0},"generated":{"line":436,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":437,"column":0},"generated":{"line":437,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":438,"column":0},"generated":{"line":438,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":439,"column":0},"generated":{"line":439,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":440,"column":0},"generated":{"line":440,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":441,"column":0},"generated":{"line":441,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":442,"column":0},"generated":{"line":442,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":443,"column":0},"generated":{"line":443,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":444,"column":0},"generated":{"line":444,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":445,"column":0},"generated":{"line":445,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":446,"column":0},"generated":{"line":446,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":447,"column":0},"generated":{"line":447,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":448,"column":0},"generated":{"line":448,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":449,"column":0},"generated":{"line":449,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":450,"column":0},"generated":{"line":450,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":451,"column":0},"generated":{"line":451,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":452,"column":0},"generated":{"line":452,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":453,"column":0},"generated":{"line":453,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":454,"column":0},"generated":{"line":454,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":455,"column":0},"generated":{"line":455,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":456,"column":0},"generated":{"line":456,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":457,"column":0},"generated":{"line":457,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":458,"column":0},"generated":{"line":458,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":459,"column":0},"generated":{"line":459,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":460,"column":0},"generated":{"line":460,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":461,"column":0},"generated":{"line":461,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":462,"column":0},"generated":{"line":462,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":463,"column":0},"generated":{"line":463,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":464,"column":0},"generated":{"line":464,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":465,"column":0},"generated":{"line":465,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":466,"column":0},"generated":{"line":466,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":467,"column":0},"generated":{"line":467,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":468,"column":0},"generated":{"line":468,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":469,"column":0},"generated":{"line":469,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":470,"column":0},"generated":{"line":470,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":471,"column":0},"generated":{"line":471,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":472,"column":0},"generated":{"line":472,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":473,"column":0},"generated":{"line":473,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":474,"column":0},"generated":{"line":474,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":475,"column":0},"generated":{"line":475,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":476,"column":0},"generated":{"line":476,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":477,"column":0},"generated":{"line":477,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":478,"column":0},"generated":{"line":478,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":479,"column":0},"generated":{"line":479,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":480,"column":0},"generated":{"line":480,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":481,"column":0},"generated":{"line":481,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":482,"column":0},"generated":{"line":482,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":483,"column":0},"generated":{"line":483,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":484,"column":0},"generated":{"line":484,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":485,"column":0},"generated":{"line":485,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":486,"column":0},"generated":{"line":486,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":487,"column":0},"generated":{"line":487,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":488,"column":0},"generated":{"line":488,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":489,"column":0},"generated":{"line":489,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":490,"column":0},"generated":{"line":490,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":491,"column":0},"generated":{"line":491,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":492,"column":0},"generated":{"line":492,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":493,"column":0},"generated":{"line":493,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":494,"column":0},"generated":{"line":494,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":495,"column":0},"generated":{"line":495,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":496,"column":0},"generated":{"line":496,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":497,"column":0},"generated":{"line":497,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":498,"column":0},"generated":{"line":498,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":499,"column":0},"generated":{"line":499,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":500,"column":0},"generated":{"line":500,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":501,"column":0},"generated":{"line":501,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":502,"column":0},"generated":{"line":502,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":503,"column":0},"generated":{"line":503,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":504,"column":0},"generated":{"line":504,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":505,"column":0},"generated":{"line":505,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":506,"column":0},"generated":{"line":506,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":507,"column":0},"generated":{"line":507,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":508,"column":0},"generated":{"line":508,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":509,"column":0},"generated":{"line":509,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":510,"column":0},"generated":{"line":510,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":511,"column":0},"generated":{"line":511,"column":0}},{"source":"node_modules/abcjs/src/synth/create-synth.js","original":{"line":512,"column":0},"generated":{"line":512,"column":0}}],"sources":{"node_modules/abcjs/src/synth/create-synth.js":"var getNote = require('./load-note');\nvar createNoteMap = require('./create-note-map');\nvar registerAudioContext = require('./register-audio-context');\nvar activeAudioContext = require('./active-audio-context');\nvar supportsAudio = require('./supports-audio');\nvar pitchToNoteName = require('./pitch-to-note-name');\nvar instrumentIndexToName = require('./instrument-index-to-name');\nvar downloadBuffer = require('./download-buffer');\nvar placeNote = require('./place-note');\nvar soundsCache = require('./sounds-cache');\n\n// TODO-PER: remove the midi tests from here: I don't think the object can be constructed unless it passes.\nvar notSupportedMessage = \"MIDI is not supported in this browser.\";\n\nvar originalSoundFontUrl = \"https://paulrosen.github.io/midi-js-soundfonts/abcjs/\";\n// These are the original soundfonts supplied. They will need a volume boost:\nvar defaultSoundFontUrl = \"https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/\";\nvar alternateSoundFontUrl = \"https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/\";\n\nfunction CreateSynth() {\n\tvar self = this;\n\tself.audioBufferPossible = undefined;\n\tself.directSource = []; // type: AudioBufferSourceNode\n\tself.startTimeSec = undefined; // the time (in seconds) that the audio started: used for pause to get the pausedTimeSec.\n\tself.pausedTimeSec = undefined; // the position (in seconds) that the audio was paused: used for resume.\n\tself.audioBuffers = []; // cache of the buffers so starting play can be fast.\n\tself.duration = undefined; // the duration of the tune in seconds.\n\tself.isRunning = false; // whether there is currently a sound buffer running.\n\n\t// Load and cache all needed sounds\n\tself.init = function(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tregisterAudioContext(options.audioContext); // This works no matter what - if there is already an ac it is a nop; if the context is not passed in, then it creates one.\n\t\tvar startTime = activeAudioContext().currentTime;\n\t\tself.debugCallback = options.debugCallback;\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"init called\");\n\t\tself.audioBufferPossible = self._deviceCapable();\n\t\tif (!self.audioBufferPossible)\n\t\t\treturn Promise.reject({ status: \"NotSupported\", message: notSupportedMessage});\n\t\tvar params = options.options ? options.options : {};\n\t\tself.soundFontUrl = params.soundFontUrl ? params.soundFontUrl : defaultSoundFontUrl;\n\t\tif (self.soundFontUrl[self.soundFontUrl.length-1] !== '/')\n\t\t\tself.soundFontUrl += '/';\n\t\tif (params.soundFontVolumeMultiplier || params.soundFontVolumeMultiplier === 0)\n\t\t\tself.soundFontVolumeMultiplier = params.soundFontVolumeMultiplier;\n\t\telse if (self.soundFontUrl === defaultSoundFontUrl || self.soundFontUrl === alternateSoundFontUrl)\n\t\t\tself.soundFontVolumeMultiplier = 3.0;\n\t\telse if (self.soundFontUrl === originalSoundFontUrl)\n\t\t\tself.soundFontVolumeMultiplier = 0.4;\n\t\telse\n\t\t\tself.soundFontVolumeMultiplier = 1.0;\n\t\tif (params.programOffsets)\n\t\t\tself.programOffsets = params.programOffsets;\n\t\telse if (self.soundFontUrl === originalSoundFontUrl)\n\t\t\tself.programOffsets = {\n\t\t\t\t\"bright_acoustic_piano\": 20,\n\t\t\t\t\"honkytonk_piano\": 20,\n\t\t\t\t\"electric_piano_1\": 30,\n\t\t\t\t\"electric_piano_2\": 30,\n\t\t\t\t\"harpsichord\": 40,\n\t\t\t\t\"clavinet\": 20,\n\t\t\t\t\"celesta\": 20,\n\t\t\t\t\"glockenspiel\": 40,\n\t\t\t\t\"vibraphone\": 30,\n\t\t\t\t\"marimba\": 35,\n\t\t\t\t\"xylophone\": 30,\n\t\t\t\t\"tubular_bells\": 35,\n\t\t\t\t\"dulcimer\": 30,\n\t\t\t\t\"drawbar_organ\": 20,\n\t\t\t\t\"percussive_organ\": 25,\n\t\t\t\t\"rock_organ\": 20,\n\t\t\t\t\"church_organ\": 40,\n\t\t\t\t\"reed_organ\": 40,\n\t\t\t\t\"accordion\": 40,\n\t\t\t\t\"harmonica\": 40,\n\t\t\t\t\"acoustic_guitar_nylon\": 20,\n\t\t\t\t\"acoustic_guitar_steel\": 30,\n\t\t\t\t\"electric_guitar_jazz\": 25,\n\t\t\t\t\"electric_guitar_clean\": 15,\n\t\t\t\t\"electric_guitar_muted\": 35,\n\t\t\t\t\"overdriven_guitar\": 25,\n\t\t\t\t\"distortion_guitar\": 20,\n\t\t\t\t\"guitar_harmonics\": 30,\n\t\t\t\t\"electric_bass_finger\": 15,\n\t\t\t\t\"electric_bass_pick\": 30,\n\t\t\t\t\"fretless_bass\": 40,\n\t\t\t\t\"violin\": 105,\n\t\t\t\t\"viola\": 50,\n\t\t\t\t\"cello\": 40,\n\t\t\t\t\"contrabass\": 60,\n\t\t\t\t\"trumpet\": 10,\n\t\t\t\t\"trombone\": 90,\n\t\t\t\t\"alto_sax\": 20,\n\t\t\t\t\"tenor_sax\": 20,\n\t\t\t\t\"clarinet\": 20,\n\t\t\t\t\"flute\": 50,\n\t\t\t\t\"banjo\": 50,\n\t\t\t\t\"woodblock\": 20,\n\t\t\t};\n\t\telse\n\t\t\tself.programOffsets = {};\n\t\tvar p = params.fadeLength !== undefined ? parseInt(params.fadeLength,10) : NaN;\n\t\tself.fadeLength = isNaN(p) ? 200 : p;\n\t\tp = params.noteEnd !== undefined ? parseInt(params.noteEnd,10) : NaN;\n\t\tself.noteEnd = isNaN(p) ? 0 : p;\n\n\t\tself.pan = params.pan;\n\t\tself.meterSize = 1;\n\t\tif (options.visualObj) {\n\t\t\tself.flattened = options.visualObj.setUpAudio(params);\n\t\t\tvar meter = options.visualObj.getMeterFraction();\n\t\t\tif (meter.den)\n\t\t\t\tself.meterSize = options.visualObj.getMeterFraction().num / options.visualObj.getMeterFraction().den;\n\t\t} else if (options.sequence)\n\t\t\tself.flattened = options.sequence;\n\t\telse\n\t\t\treturn Promise.reject(new Error(\"Must pass in either a visualObj or a sequence\"));\n\t\tself.millisecondsPerMeasure = options.millisecondsPerMeasure ? options.millisecondsPerMeasure : (options.visualObj ? options.visualObj.millisecondsPerMeasure(self.flattened.tempo) : 1000);\n\t\tself.beatsPerMeasure = options.visualObj ? options.visualObj.getBeatsPerMeasure() : 4;\n\t\tself.sequenceCallback = params.sequenceCallback;\n\t\tself.callbackContext = params.callbackContext;\n\t\tself.onEnded = params.onEnded;\n\n\t\tvar allNotes = {};\n\t\tvar cached = [];\n\t\tvar errorNotes = [];\n\t\tvar currentInstrument = instrumentIndexToName[0];\n\t\tself.flattened.tracks.forEach(function(track) {\n\t\t\ttrack.forEach(function(event) {\n\t\t\t\tif (event.cmd === \"program\" && instrumentIndexToName[event.instrument])\n\t\t\t\t\tcurrentInstrument = instrumentIndexToName[event.instrument];\n\t\t\t\tif (event.pitch !== undefined) {\n\t\t\t\t\tvar pitchNumber = event.pitch;\n\t\t\t\t\tvar noteName = pitchToNoteName[pitchNumber];\n\t\t\t\t\tif (noteName) {\n\t\t\t\t\t\tif (!allNotes[currentInstrument])\n\t\t\t\t\t\t\tallNotes[currentInstrument] = {};\n\t\t\t\t\t\tif (!soundsCache[currentInstrument] || !soundsCache[currentInstrument][noteName])\n\t\t\t\t\t\t\tallNotes[currentInstrument][noteName] = true;\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar label2 = currentInstrument+\":\"+noteName\n\t\t\t\t\t\t\tif (cached.indexOf(label2) < 0)\n\t\t\t\t\t\t\t\tcached.push(label2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar label = currentInstrument+\":\"+noteName\n\t\t\t\t\t\tconsole.log(\"Can't find note: \", pitchNumber, label);\n\t\t\t\t\t\tif (errorNotes.indexOf(label) < 0)\n\t\t\t\t\t\t\terrorNotes.push(label)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"note gathering time = \" + Math.floor((activeAudioContext().currentTime - startTime)*1000)+\"ms\");\n\t\tstartTime = activeAudioContext().currentTime;\n\n\t\tvar notes = [];\n\t\tObject.keys(allNotes).forEach(function(instrument) {\n\t\t\tObject.keys(allNotes[instrument]).forEach(function(note) {\n\t\t\t\tnotes.push({ instrument: instrument, note: note });\n\t\t\t});\n\t\t});\n\t\t// If there are lots of notes, load them in batches\n\t\tvar batches = [];\n\t\tvar CHUNK = 256;\n\t\tfor (var i=0; i < notes.length; i += CHUNK) {\n\t\t\tbatches.push(notes.slice(i, i + CHUNK));\n\t\t}\n\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tvar results = {\n\t\t\t\tcached: cached,\n\t\t\t\terror: errorNotes,\n\t\t\t\tloaded: []\n\t\t\t};\n\n\t\t\tvar index = 0;\n\t\t\tvar next = function() {\n\t\t\t\tif (index < batches.length) {\n\t\t\t\t\tself._loadBatch(batches[index], self.soundFontUrl, startTime).then(function(data) {\n\t\t\t\t\t\tstartTime = activeAudioContext().currentTime;\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tif (data.error)\n\t\t\t\t\t\t\t\tresults.error = results.error.concat(data.error);\n\t\t\t\t\t\t\tif (data.loaded)\n\t\t\t\t\t\t\t\tresults.loaded = results.loaded.concat(data.loaded);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t\tnext();\n\t\t\t\t\t}, reject);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results);\n\t\t\t\t}\n\t\t\t};\n\t\t\tnext();\n\t\t});\n\t};\n\n\tself._loadBatch = (function(batch, soundFontUrl, startTime, delay) {\n\t\t// This is called recursively to see if the sounds have loaded. The \"delay\" parameter is how long it has been since the original call.\n\t\tvar promises = [];\n\t\tbatch.forEach(function(item) {\n\t\t\tpromises.push(getNote(soundFontUrl, item.instrument, item.note, activeAudioContext()));\n\t\t});\n\t\treturn Promise.all(promises).then(function(response) {\n\t\t\tif (self.debugCallback)\n\t\t\t\tself.debugCallback(\"mp3 load time = \" + Math.floor((activeAudioContext().currentTime - startTime)*1000)+\"ms\");\n\t\t\tvar loaded = [];\n\t\t\tvar cached = [];\n\t\t\tvar pending = [];\n\t\t\tvar error = [];\n\t\t\tfor (var i = 0; i < response.length; i++) {\n\t\t\t\tvar oneResponse = response[i];\n\t\t\t\tvar which = oneResponse.instrument + \":\" + oneResponse.name;\n\t\t\t\tif (oneResponse.status === \"loaded\")\n\t\t\t\t\tloaded.push(which);\n\t\t\t\telse if (oneResponse.status === \"pending\")\n\t\t\t\t\tpending.push(which);\n\t\t\t\telse if (oneResponse.status === \"cached\")\n\t\t\t\t\tcached.push(which);\n\t\t\t\telse\n\t\t\t\t\terror.push(which + ' ' + oneResponse.message);\n\t\t\t}\n\t\t\tif (pending.length > 0) {\n\t\t\t\t// There was probably a second call for notes before the first one finished, so just retry a few times to see if they stop being pending.\n\t\t\t\t// Retry quickly at first so that there isn't an unnecessary delay, but increase the delay each time.\n\t\t\t\tif (!delay)\n\t\t\t\t\tdelay = 50;\n\t\t\t\telse\n\t\t\t\t\tdelay = delay * 2;\n\t\t\t\tif (delay < 90000) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\tvar newBatch = [];\n\t\t\t\t\t\t\tfor (i = 0; i < pending.length; i++) {\n\t\t\t\t\t\t\t\twhich = pending[i].split(\":\");\n\t\t\t\t\t\t\t\tnewBatch.push({instrument: which[0], note: which[1]});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tself._loadBatch(newBatch, soundFontUrl, startTime, delay).then(function (response) {\n\t\t\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, delay);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar list = [];\n\t\t\t\t\tfor (var j = 0; j < batch.length; j++)\n\t\t\t\t\t\tlist.push(batch[j].instrument+'/'+batch[j].note)\n\t\t\t\t\treturn Promise.reject(new Error(\"timeout attempting to load: \" + list.join(\", \")));\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\treturn Promise.resolve({loaded: loaded, cached: cached, error: error});\n\t\t}).catch(function (error) {\n\t\t});\n\t});\n\n\tself.prime = function() {\n\t\t// At this point all of the notes are loaded. This function writes them into the output buffer.\n\t\t// Most music has a lot of repeating notes. If a note is the same pitch, volume, length, etc. as another one,\n\t\t// It saves a lot of time to just create it once and place it repeatedly where ever it needs to be.\n\t\tvar fadeTimeSec = self.fadeLength/1000;\n\t\tself.isRunning = false;\n\t\tif (!self.audioBufferPossible)\n\t\t\treturn Promise.reject(new Error(notSupportedMessage));\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"prime called\");\n\t\treturn new Promise(function(resolve) {\n\t\t\tvar startTime = activeAudioContext().currentTime;\n\t\t\tvar tempoMultiplier = self.millisecondsPerMeasure / 1000 / self.meterSize;\n\t\t\tself.duration = self.flattened.totalDuration * tempoMultiplier;\n\t\t\tif(self.duration <= 0) {\n\t\t\t\tself.audioBuffers = [];\n\t\t\t\treturn resolve({ status: \"empty\", seconds: 0});\n\t\t\t}\n\t\t\tself.duration += fadeTimeSec;\n\t\t\tvar totalSamples = Math.floor(activeAudioContext().sampleRate * self.duration);\n\n\t\t\t// There might be a previous run that needs to be turned off.\n\t\t\tself.stop();\n\n\t\t\tvar noteMapTracks = createNoteMap(self.flattened);\n\t\t\tif (self.sequenceCallback)\n\t\t\t\tself.sequenceCallback(noteMapTracks, self.callbackContext);\n\n\t\t\tvar panDistances = setPan(noteMapTracks.length, self.pan);\n\n\t\t\t// Create a simple list of all the unique sounds in this music and where they should be placed.\n\t\t\t// There appears to be a limit on how many audio buffers can be created at once so this technique limits the number needed.\n\t\t\tvar uniqueSounds = {};\n\t\t\tnoteMapTracks.forEach(function(noteMap, trackNumber) {\n\t\t\t\tvar panDistance = panDistances && panDistances.length > trackNumber ? panDistances[trackNumber] : 0;\n\t\t\t\tnoteMap.forEach(function(note) {\n\t\t\t\t\tvar key = note.instrument + ':' + note.pitch + ':' +note.volume + ':' + Math.round((note.end-note.start)*1000)/1000 + ':' + panDistance + ':' + tempoMultiplier + ':' + (note.cents ? note.cents : 0);\n\t\t\t\t\tif (!uniqueSounds[key])\n\t\t\t\t\t\tuniqueSounds[key] = [];\n\t\t\t\t\tuniqueSounds[key].push(note.start);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Now that we know what we are trying to create, construct the audio buffer by creating each sound and placing it.\n\t\t\tvar allPromises = [];\n\t\t\tvar audioBuffer = activeAudioContext().createBuffer(2, totalSamples, activeAudioContext().sampleRate);\n\t\t\tfor (var key2 = 0; key2 < Object.keys(uniqueSounds).length; key2++) {\n\t\t\t\tvar k = Object.keys(uniqueSounds)[key2];\n\t\t\t\tvar parts = k.split(\":\");\n\t\t\t\tvar cents = parts[6] !== undefined ? parseFloat(parts[6]) : 0;\n\t\t\t\tparts = {instrument: parts[0], pitch: parseInt(parts[1], 10), volume: parseInt(parts[2], 10), len: parseFloat(parts[3]), pan: parseFloat(parts[4]), tempoMultiplier: parseFloat(parts[5]), cents: cents};\n\t\t\t\tallPromises.push(placeNote(audioBuffer, activeAudioContext().sampleRate, parts, uniqueSounds[k], self.soundFontVolumeMultiplier, self.programOffsets[parts.instrument], fadeTimeSec, self.noteEnd/1000));\n\t\t\t}\n\t\t\tself.audioBuffers = [audioBuffer];\n\n\t\t\tif (self.debugCallback) {\n\t\t\t\tself.debugCallback(\"sampleRate = \" + activeAudioContext().sampleRate);\n\t\t\t\tself.debugCallback(\"totalSamples = \" + totalSamples);\n\t\t\t\tself.debugCallback(\"creationTime = \" + Math.floor((activeAudioContext().currentTime - startTime)*1000) + \"ms\");\n\t\t\t}\n\t\t\tfunction resolveData(me) {\n\t\t\t\tvar duration = me && me.audioBuffers && me.audioBuffers.length > 0 ? me.audioBuffers[0].duration : 0;\n\t\t\t\treturn { status: activeAudioContext().state, duration: duration}\n\t\t\t}\n\t\t\tPromise.all(allPromises).then(function() {\n\t\t\t\t// Safari iOS can mess with the audioContext state, so resume if needed.\n\t\t\t\tif (activeAudioContext().state === \"suspended\") {\n\t\t\t\t\tactiveAudioContext().resume().then(function () {\n\t\t\t\t\t\tresolve(resolveData(self));\n\t\t\t\t\t})\n\t\t\t\t} else if (activeAudioContext().state === \"interrupted\") {\n\t\t\t\t\tactiveAudioContext().suspend().then(function () {\n\t\t\t\t\t\tactiveAudioContext().resume().then(function () {\n\t\t\t\t\t\t\tresolve(resolveData(self));\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tresolve(resolveData(self));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tfunction setPan(numTracks, panParam) {\n\t\t// panParam, if it is set, can be either a number representing the separation between each track,\n\t\t// or an array, which is the absolute pan position for each track.\n\t\tif (panParam === null || panParam === undefined)\n\t\t\treturn null;\n\n\t\tvar panDistances = [];\n\t\tif (panParam.length) {\n\t\t\t// We received an array. If there are the same number of items in the pan array as the number of tracks,\n\t\t\t// it all lines up perfectly. If there are more items in the pan array than the tracks then the excess items are ignored.\n\t\t\t// If there are more tracks than items in the pan array then the remaining tracks are placed in the middle.\n\t\t\t// If any of the pan numbers are out of range then they are adjusted.\n\t\t\tfor (var pp = 0; pp < numTracks; pp++) {\n\t\t\t\tif (pp < panParam.length) {\n\t\t\t\t\tvar x = parseFloat(panParam[pp]);\n\t\t\t\t\tif (x < -1)\n\t\t\t\t\t\tx = -1;\n\t\t\t\t\telse if (x > 1)\n\t\t\t\t\t\tx = 1;\n\t\t\t\t\tpanDistances.push(x);\n\t\t\t\t} else\n\t\t\t\t\tpanDistances.push(0)\n\t\t\t}\n\t\t\treturn panDistances;\n\t\t} else {\n\t\t\tvar panNumber = parseFloat(panParam);\n\t\t\t// the separation needs to be no further than 2 (i.e. -1 to 1) so test to see if there are too many tracks for the passed in distance\n\t\t\tif (panNumber*(numTracks-1) > 2)\n\t\t\t\treturn null;\n\n\t\t\t// If there are an even number of tracks, then offset so that the first two are centered around the middle\n\t\t\tvar even = numTracks % 2 === 0;\n\t\t\tvar currLow = even ? 0 - panNumber/2 : 0;\n\t\t\tvar currHigh = currLow+panNumber;\n\t\t\t// Now add the tracks to either side\n\t\t\tfor (var p = 0; p < numTracks; p++) {\n\t\t\t\teven = p % 2 === 0;\n\t\t\t\tif (even) {\n\t\t\t\t\tpanDistances.push(currLow);\n\t\t\t\t\tcurrLow -= panNumber;\n\t\t\t\t} else {\n\t\t\t\t\tpanDistances.push(currHigh);\n\t\t\t\t\tcurrHigh += panNumber;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn panDistances;\n\t\t}\n\t\t// There was either no panning, or the parameters were illegal\n\t\treturn null;\n\t}\n\n\t// This is called after everything is set up, so it can quickly make sound\n\tself.start = function() {\n\t\tif (!self.audioBufferPossible)\n\t\t\tthrow new Error(notSupportedMessage);\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"start called\");\n\n\t\tvar resumePosition = self.pausedTimeSec ? self.pausedTimeSec : 0;\n\t\tself._kickOffSound(resumePosition);\n\t\tself.startTimeSec = activeAudioContext().currentTime - resumePosition;\n\t\tself.pausedTimeSec = undefined;\n\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"MIDI STARTED\", self.startTimeSec);\n\t};\n\n\tself.pause = function() {\n\t\tif (!self.audioBufferPossible)\n\t\t\tthrow new Error(notSupportedMessage);\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"pause called\");\n\n\t\tself.pausedTimeSec = self.stop();\n\t\treturn self.pausedTimeSec;\n\t};\n\n\tself.resume = function() {\n\t\tself.start();\n\t};\n\n\tself.seek = function(position, units) {\n\t\tvar offset;\n\t\tswitch (units) {\n\t\t\tcase \"seconds\":\n\t\t\t\toffset = position;\n\t\t\t\tbreak;\n\t\t\tcase \"beats\":\n\t\t\t\toffset = position * self.millisecondsPerMeasure / self.beatsPerMeasure / 1000;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// this is \"percent\" or any illegal value\n\t\t\t\toffset = (self.duration-self.fadeLength/1000) * position;\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// TODO-PER: can seek when paused or when playing\n\t\tif (!self.audioBufferPossible)\n\t\t\tthrow new Error(notSupportedMessage);\n\t\tif (self.debugCallback)\n\t\t\tself.debugCallback(\"seek called sec=\" + offset);\n\n\t\tif (self.isRunning) {\n\t\t\tself.stop();\n\t\t\tself._kickOffSound(offset);\n\t\t} else {\n\t\t\tself.pausedTimeSec = offset;\n\t\t}\n\t\tself.pausedTimeSec = offset;\n\t};\n\n\tself.stop = function() {\n\t\tself.isRunning = false;\n\t\tself.pausedTimeSec = undefined;\n\t\tself.directSource.forEach(function(source) {\n\t\t\ttry {\n\t\t\t\tsource.stop();\n\t\t\t} catch (error) {\n\t\t\t\t// We don't care if self succeeds: it might fail if something else turned off the sound or it ended for some reason.\n\t\t\t\tconsole.log(\"direct source didn't stop:\", error)\n\t\t\t}\n\t\t});\n\t\tself.directSource = [];\n\t\tvar elapsed = activeAudioContext().currentTime - self.startTimeSec;\n\t\treturn elapsed;\n\t};\n\tself.finished = function() {\n\t\tself.startTimeSec = undefined;\n\t\tself.pausedTimeSec = undefined;\n\t\tself.isRunning = false;\n\t};\n\n\tself.download = function() {\n\t\treturn downloadBuffer(self);\n\t};\n\n\t/////////////// Private functions //////////////\n\n\tself._deviceCapable = function() {\n\t\tif (!supportsAudio()) {\n\t\t\tconsole.warn(notSupportedMessage);\n\t\t\tif (self.debugCallback)\n\t\t\t\tself.debugCallback(notSupportedMessage);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tself._kickOffSound = function(seconds) {\n\t\tself.isRunning = true;\n\t\tself.directSource = [];\n\t\tself.audioBuffers.forEach(function(audioBuffer, trackNum) {\n\t\t\tself.directSource[trackNum] = activeAudioContext().createBufferSource(); // creates a sound source\n\t\t\tself.directSource[trackNum].buffer = audioBuffer; // tell the source which sound to play\n\t\t\tself.directSource[trackNum].connect(activeAudioContext().destination); // connect the source to the context's destination (the speakers)\n\t\t});\n\t\tself.directSource.forEach(function(source) {\n\t\t\tsource.start(0, seconds);\n\t\t});\n\t\tif (self.onEnded) {\n\t\t\tself.directSource[0].onended = function () {\n\t\t\t\tself.onEnded(self.callbackContext);\n\t\t\t};\n\t\t}\n\t};\n}\n\nmodule.exports = CreateSynth;\n"},"lineCount":512}},"error":null,"hash":"73386bcf882cddf8c92fc305f929241e","cacheData":{"env":{}}}