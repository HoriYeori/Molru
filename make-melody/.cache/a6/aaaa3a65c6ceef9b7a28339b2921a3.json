{"id":"ArBK","dependencies":[{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\package.json","includedInParent":true,"mtime":1648705913118},{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\package.json","includedInParent":true,"mtime":1648703408663},{"name":"./instrument-index-to-name","loc":{"line":3,"column":36,"index":136},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\create-note-map.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\synth\\instrument-index-to-name.js"}],"generated":{"js":"var t=require(\"./instrument-index-to-name\"),e=function(e){for(var n=[],r=0;r<e.tracks.length;r++)n.push([]);var a=t[0];return e.tracks.forEach(function(e,r){e.forEach(function(e){switch(e.cmd){case\"note\":if(e.duration>0){var s=e.gap?e.gap:0,o=e.duration;s=Math.min(s,2*o/3);var c={pitch:e.pitch,instrument:a,start:Math.round(1e6*e.start)/1e6,end:Math.round(1e6*(e.start+o-s))/1e6,volume:e.volume};e.style&&(c.style=e.style),e.cents&&(c.cents=e.cents),n[r].push(c)}break;case\"program\":a=t[e.instrument];break;case\"text\":break;default:console.log(\"Unhandled midi event\",e)}})}),n};module.exports=e;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":4}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":6}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":3,"column":0},"generated":{"line":1,"column":14}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":44}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":46}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":5,"column":0},"generated":{"line":1,"column":55}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":58}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":6,"column":0},"generated":{"line":1,"column":62}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":6,"column":0},"generated":{"line":1,"column":66}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":6,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":71}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":73}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":75}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":77}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":79}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":7,"column":0},"generated":{"line":1,"column":93}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":8,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":8,"column":0},"generated":{"line":1,"column":99}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":8,"column":0},"generated":{"line":1,"column":104}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":12,"column":0},"generated":{"line":1,"column":108}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":12,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":12,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":12,"column":0},"generated":{"line":1,"column":116}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":51,"column":0},"generated":{"line":1,"column":119}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":128}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":135}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":143}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":152}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":14,"column":0},"generated":{"line":1,"column":154}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":15,"column":0},"generated":{"line":1,"column":157}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":15,"column":0},"generated":{"line":1,"column":159}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":15,"column":0},"generated":{"line":1,"column":167}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":15,"column":0},"generated":{"line":1,"column":176}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":16,"column":0},"generated":{"line":1,"column":179}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":16,"column":0},"generated":{"line":1,"column":186}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":16,"column":0},"generated":{"line":1,"column":188}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":17,"column":0},"generated":{"line":1,"column":193}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":17,"column":0},"generated":{"line":1,"column":197}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":21,"column":0},"generated":{"line":1,"column":204}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":21,"column":0},"generated":{"line":1,"column":207}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":21,"column":0},"generated":{"line":1,"column":209}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":21,"column":0},"generated":{"line":1,"column":218}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":21,"column":0},"generated":{"line":1,"column":220}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":221}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":225}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":227}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":229}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":233}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":235}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":22,"column":0},"generated":{"line":1,"column":239}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":23,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":23,"column":0},"generated":{"line":1,"column":243}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":23,"column":0},"generated":{"line":1,"column":245}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":254}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":256}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":261}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":265}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":267}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":269}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":24,"column":0},"generated":{"line":1,"column":271}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":25,"column":0},"generated":{"line":1,"column":274}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":25,"column":0},"generated":{"line":1,"column":278}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":25,"column":0},"generated":{"line":1,"column":280}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":26,"column":0},"generated":{"line":1,"column":281}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":26,"column":0},"generated":{"line":1,"column":287}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":26,"column":0},"generated":{"line":1,"column":289}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":27,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":27,"column":0},"generated":{"line":1,"column":306}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":308}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":314}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":319}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":325}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":329}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":331}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":28,"column":0},"generated":{"line":1,"column":338}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":342}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":346}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":351}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":357}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":362}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":364}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":372}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":29,"column":0},"generated":{"line":1,"column":376}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":30,"column":0},"generated":{"line":1,"column":380}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":30,"column":0},"generated":{"line":1,"column":387}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":30,"column":0},"generated":{"line":1,"column":389}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":32,"column":0},"generated":{"line":1,"column":397}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":32,"column":0},"generated":{"line":1,"column":399}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":33,"column":0},"generated":{"line":1,"column":407}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":33,"column":0},"generated":{"line":1,"column":409}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":33,"column":0},"generated":{"line":1,"column":415}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":33,"column":0},"generated":{"line":1,"column":417}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":34,"column":0},"generated":{"line":1,"column":424}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":34,"column":0},"generated":{"line":1,"column":426}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":35,"column":0},"generated":{"line":1,"column":434}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":35,"column":0},"generated":{"line":1,"column":436}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":35,"column":0},"generated":{"line":1,"column":442}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":35,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":36,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":36,"column":0},"generated":{"line":1,"column":453}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":36,"column":0},"generated":{"line":1,"column":456}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":36,"column":0},"generated":{"line":1,"column":461}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":38,"column":0},"generated":{"line":1,"column":464}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":39,"column":0},"generated":{"line":1,"column":470}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":39,"column":0},"generated":{"line":1,"column":474}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":40,"column":0},"generated":{"line":1,"column":484}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":40,"column":0},"generated":{"line":1,"column":486}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":40,"column":0},"generated":{"line":1,"column":488}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":40,"column":0},"generated":{"line":1,"column":490}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":41,"column":0},"generated":{"line":1,"column":502}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":42,"column":0},"generated":{"line":1,"column":508}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":42,"column":0},"generated":{"line":1,"column":512}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":44,"column":0},"generated":{"line":1,"column":519}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":45,"column":0},"generated":{"line":1,"column":525}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":47,"column":0},"generated":{"line":1,"column":533}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":47,"column":0},"generated":{"line":1,"column":541}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":47,"column":0},"generated":{"line":1,"column":545}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":47,"column":0},"generated":{"line":1,"column":568}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":51,"column":0},"generated":{"line":1,"column":576}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":54,"column":0},"generated":{"line":1,"column":579}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":54,"column":0},"generated":{"line":1,"column":586}},{"source":"node_modules/abcjs/src/synth/create-note-map.js","original":{"line":54,"column":0},"generated":{"line":1,"column":594}}],"sources":{"node_modules/abcjs/src/synth/create-note-map.js":"// Convert the input structure to a more useful structure where each item has a length of its own.\n\nvar instrumentIndexToName = require('./instrument-index-to-name');\n\nvar createNoteMap = function(sequence) {\n\tvar map = [];\n\tfor (var i = 0; i < sequence.tracks.length; i++)\n\t\tmap.push([]);\n\n\t// TODO-PER: handle more than one note in a track\n\tvar nextNote = {};\n\tvar currentInstrument = instrumentIndexToName[0];\n\t// ev.start and ev.duration are in whole notes. Need to turn them into\n\tsequence.tracks.forEach(function(track, i) {\n\t\ttrack.forEach(function(ev) {\n\t\t\tswitch (ev.cmd) {\n\t\t\t\tcase \"note\":\n\t\t\t\t\t// ev contains:\n\t\t\t\t\t// {\"cmd\":\"note\",\"pitch\":72,\"volume\":95,\"start\":0.125,\"duration\":0.25,\"instrument\":0,\"gap\":0}\n\t\t\t\t\t// where start and duration are in whole notes, gap is in 1/1920 of a second (i.e. MIDI ticks)\n\t\t\t\t\tif (ev.duration > 0) {\n\t\t\t\t\t\tvar gap = ev.gap ? ev.gap : 0;\n\t\t\t\t\t\tvar len = ev.duration;\n\t\t\t\t\t\tgap = Math.min(gap, len * 2 / 3);\n\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\tpitch: ev.pitch,\n\t\t\t\t\t\t\tinstrument: currentInstrument,\n\t\t\t\t\t\t\tstart: Math.round((ev.start) * 1000000)/1000000,\n\t\t\t\t\t\t\tend: Math.round((ev.start + len - gap) * 1000000)/1000000,\n\t\t\t\t\t\t\tvolume: ev.volume\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (ev.style)\n\t\t\t\t\t\t\tobj.style = ev.style;\n\t\t\t\t\t\tif (ev.cents)\n\t\t\t\t\t\t\tobj.cents = ev.cents;\n\t\t\t\t\t\tmap[i].push(obj);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"program\":\n\t\t\t\t\tcurrentInstrument = instrumentIndexToName[ev.instrument];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"text\":\n\t\t\t\t\t// Ignore the track names - that is just for midi files.\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// TODO-PER: handle other event types\n\t\t\t\t\tconsole.log(\"Unhandled midi event\", ev);\n\t\t\t}\n\t\t});\n\t});\n\treturn map;\n};\n\nmodule.exports = createNoteMap;\n"},"lineCount":null}},"error":null,"hash":"d3c677fbc1cdff19713c8023526b1ef9","cacheData":{"env":{}}}