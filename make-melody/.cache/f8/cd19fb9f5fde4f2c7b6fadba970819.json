{"id":"QN3L","dependencies":[{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\package.json","includedInParent":true,"mtime":1648705913118},{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\package.json","includedInParent":true,"mtime":1648703408663},{"name":"./abc_common","loc":{"line":3,"column":26,"index":134},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\parse\\abc_parse_book.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\parse\\abc_common.js"}],"generated":{"js":"var t=require(\"./abc_common\"),r=function(r){\"use strict\";for(var n=\"\",a=(r=t.strip(r)).split(\"\\nX:\"),e=1;e<a.length;e++)a[e]=\"X:\"+a[e];var i=0,s=[];if(t.each(a,function(t){s.push({abc:t,startPos:i}),i+=t.length+1}),s.length>1&&!t.startsWith(s[0].abc,\"X:\")){var c=s.shift().abc.split(\"\\n\");t.each(c,function(r){t.startsWith(r,\"%%\")&&(n+=r+\"\\n\")})}var u=n;return t.each(s,function(r){var a=r.abc.indexOf(\"\\n\\n\");a>0&&(r.abc=r.abc.substring(0,a)),r.pure=r.abc,r.abc=n+r.abc,r.title=\"\";var e=r.pure.split(\"T:\");e.length>1&&(e=e[1].split(\"\\n\"),r.title=t.strip(e[0]));var i=r.pure.substring(2,r.pure.indexOf(\"\\n\"));r.id=t.strip(i)}),{header:u,tunes:s}};module.exports=r;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":3,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":3,"column":0},"generated":{"line":1,"column":4}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":3,"column":0},"generated":{"line":1,"column":6}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":3,"column":0},"generated":{"line":1,"column":14}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":5,"column":0},"generated":{"line":1,"column":30}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":5,"column":0},"generated":{"line":1,"column":32}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":5,"column":0},"generated":{"line":1,"column":41}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":6,"column":0},"generated":{"line":1,"column":44}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":8,"column":0},"generated":{"line":1,"column":61}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":8,"column":0},"generated":{"line":1,"column":65}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":8,"column":0},"generated":{"line":1,"column":67}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":10,"column":0},"generated":{"line":1,"column":70}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":9,"column":0},"generated":{"line":1,"column":73}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":9,"column":0},"generated":{"line":1,"column":75}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":9,"column":0},"generated":{"line":1,"column":77}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":9,"column":0},"generated":{"line":1,"column":83}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":10,"column":0},"generated":{"line":1,"column":87}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":10,"column":0},"generated":{"line":1,"column":93}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":101}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":107}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":109}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":12,"column":0},"generated":{"line":1,"column":116}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":13,"column":0},"generated":{"line":1,"column":120}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":13,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":13,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":13,"column":0},"generated":{"line":1,"column":130}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":13,"column":0},"generated":{"line":1,"column":132}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":15,"column":0},"generated":{"line":1,"column":135}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":15,"column":0},"generated":{"line":1,"column":139}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":15,"column":0},"generated":{"line":1,"column":141}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":16,"column":0},"generated":{"line":1,"column":143}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":16,"column":0},"generated":{"line":1,"column":145}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":148}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":17,"column":0},"generated":{"line":1,"column":151}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":17,"column":0},"generated":{"line":1,"column":153}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":17,"column":0},"generated":{"line":1,"column":158}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":17,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":17,"column":0},"generated":{"line":1,"column":169}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":172}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":174}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":179}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":180}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":184}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":186}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":18,"column":0},"generated":{"line":1,"column":195}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":19,"column":0},"generated":{"line":1,"column":199}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":19,"column":0},"generated":{"line":1,"column":202}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":19,"column":0},"generated":{"line":1,"column":204}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":19,"column":0},"generated":{"line":1,"column":211}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":215}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":217}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":224}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":228}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":230}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":241}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":243}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":246}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":250}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":21,"column":0},"generated":{"line":1,"column":256}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":25,"column":0},"generated":{"line":1,"column":257}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":26,"column":0},"generated":{"line":1,"column":261}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":25,"column":0},"generated":{"line":1,"column":263}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":25,"column":0},"generated":{"line":1,"column":265}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":26,"column":0},"generated":{"line":1,"column":273}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":26,"column":0},"generated":{"line":1,"column":277}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":26,"column":0},"generated":{"line":1,"column":283}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":27,"column":0},"generated":{"line":1,"column":289}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":27,"column":0},"generated":{"line":1,"column":291}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":27,"column":0},"generated":{"line":1,"column":296}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":27,"column":0},"generated":{"line":1,"column":298}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":27,"column":0},"generated":{"line":1,"column":307}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":28,"column":0},"generated":{"line":1,"column":310}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":28,"column":0},"generated":{"line":1,"column":312}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":28,"column":0},"generated":{"line":1,"column":323}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":28,"column":0},"generated":{"line":1,"column":325}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":29,"column":0},"generated":{"line":1,"column":333}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":29,"column":0},"generated":{"line":1,"column":336}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":29,"column":0},"generated":{"line":1,"column":338}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":32,"column":0},"generated":{"line":1,"column":346}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":32,"column":0},"generated":{"line":1,"column":350}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":32,"column":0},"generated":{"line":1,"column":352}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":55,"column":0},"generated":{"line":1,"column":354}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":35,"column":0},"generated":{"line":1,"column":361}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":35,"column":0},"generated":{"line":1,"column":363}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":35,"column":0},"generated":{"line":1,"column":368}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":35,"column":0},"generated":{"line":1,"column":370}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":35,"column":0},"generated":{"line":1,"column":379}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":36,"column":0},"generated":{"line":1,"column":382}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":36,"column":0},"generated":{"line":1,"column":386}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":36,"column":0},"generated":{"line":1,"column":388}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":36,"column":0},"generated":{"line":1,"column":390}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":36,"column":0},"generated":{"line":1,"column":394}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":36,"column":0},"generated":{"line":1,"column":402}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":37,"column":0},"generated":{"line":1,"column":410}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":37,"column":0},"generated":{"line":1,"column":412}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":416}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":418}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":422}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":424}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":428}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":438}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":38,"column":0},"generated":{"line":1,"column":440}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":39,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":39,"column":0},"generated":{"line":1,"column":446}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":39,"column":0},"generated":{"line":1,"column":451}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":39,"column":0},"generated":{"line":1,"column":453}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":40,"column":0},"generated":{"line":1,"column":457}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":40,"column":0},"generated":{"line":1,"column":459}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":40,"column":0},"generated":{"line":1,"column":463}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":40,"column":0},"generated":{"line":1,"column":465}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":40,"column":0},"generated":{"line":1,"column":467}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":43,"column":0},"generated":{"line":1,"column":471}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":43,"column":0},"generated":{"line":1,"column":473}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":43,"column":0},"generated":{"line":1,"column":479}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":44,"column":0},"generated":{"line":1,"column":482}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":44,"column":0},"generated":{"line":1,"column":486}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":44,"column":0},"generated":{"line":1,"column":488}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":44,"column":0},"generated":{"line":1,"column":490}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":44,"column":0},"generated":{"line":1,"column":495}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":44,"column":0},"generated":{"line":1,"column":501}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":45,"column":0},"generated":{"line":1,"column":507}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":45,"column":0},"generated":{"line":1,"column":509}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":45,"column":0},"generated":{"line":1,"column":516}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":46,"column":0},"generated":{"line":1,"column":520}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":46,"column":0},"generated":{"line":1,"column":522}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":46,"column":0},"generated":{"line":1,"column":524}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":46,"column":0},"generated":{"line":1,"column":527}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":46,"column":0},"generated":{"line":1,"column":533}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":47,"column":0},"generated":{"line":1,"column":539}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":47,"column":0},"generated":{"line":1,"column":541}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":47,"column":0},"generated":{"line":1,"column":547}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":47,"column":0},"generated":{"line":1,"column":549}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":47,"column":0},"generated":{"line":1,"column":555}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":47,"column":0},"generated":{"line":1,"column":557}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":562}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":566}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":568}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":570}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":575}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":585}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":587}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":589}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":594}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":51,"column":0},"generated":{"line":1,"column":602}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":52,"column":0},"generated":{"line":1,"column":609}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":52,"column":0},"generated":{"line":1,"column":611}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":52,"column":0},"generated":{"line":1,"column":614}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":52,"column":0},"generated":{"line":1,"column":616}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":52,"column":0},"generated":{"line":1,"column":622}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":55,"column":0},"generated":{"line":1,"column":627}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":56,"column":0},"generated":{"line":1,"column":628}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":56,"column":0},"generated":{"line":1,"column":635}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":57,"column":0},"generated":{"line":1,"column":637}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":57,"column":0},"generated":{"line":1,"column":643}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":61,"column":0},"generated":{"line":1,"column":647}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":61,"column":0},"generated":{"line":1,"column":654}},{"source":"node_modules/abcjs/src/parse/abc_parse_book.js","original":{"line":61,"column":0},"generated":{"line":1,"column":662}}],"sources":{"node_modules/abcjs/src/parse/abc_parse_book.js":"//    abc_parse_book.js: parses a string representing ABC Music Notation into a usable internal structure.\n\nvar parseCommon = require('./abc_common');\n\nvar bookParser = function(book) {\n\t\"use strict\";\n\n\tvar directives = \"\";\n\tbook = parseCommon.strip(book);\n\tvar tuneStrings = book.split(\"\\nX:\");\n\t// Put back the X: that we lost when splitting the tunes.\n\tfor (var i = 1; i < tuneStrings.length; i++)\n\t\ttuneStrings[i] = \"X:\" + tuneStrings[i];\n\t// Keep track of the character position each tune starts with.\n\tvar pos = 0;\n\tvar tunes = [];\n\tparseCommon.each(tuneStrings, function(tune) {\n\t\ttunes.push({ abc: tune, startPos: pos});\n\t\tpos += tune.length + 1; // We also lost a newline when splitting, so count that.\n\t});\n\tif (tunes.length > 1 && !parseCommon.startsWith(tunes[0].abc, 'X:')) {\t// If there is only one tune, the X: might be missing, otherwise assume the top of the file is \"intertune\"\n\t\t// There could be file-wide directives in this, if so, we need to insert it into each tune. We can probably get away with\n\t\t// just looking for file-wide directives here (before the first tune) and inserting them at the bottom of each tune, since\n\t\t// the tune is parsed all at once. The directives will be seen before the engraver begins processing.\n\t\tvar dir = tunes.shift();\n\t\tvar arrDir = dir.abc.split('\\n');\n\t\tparseCommon.each(arrDir, function(line) {\n\t\t\tif (parseCommon.startsWith(line, '%%'))\n\t\t\t\tdirectives += line + '\\n';\n\t\t});\n\t}\n\tvar header = directives;\n\n\t// Now, the tune ends at a blank line, so truncate it if needed. There may be \"intertune\" stuff.\n\tparseCommon.each(tunes, function(tune) {\n\t\tvar end = tune.abc.indexOf('\\n\\n');\n\t\tif (end > 0)\n\t\t\ttune.abc = tune.abc.substring(0, end);\n\t\ttune.pure = tune.abc;\n\t\ttune.abc = directives + tune.abc;\n\n\t\t// for the user's convenience, parse and store the title separately. The title is between the first T: and the next \\n\n\t\ttune.title = \"\";\n\t\tvar title = tune.pure.split(\"T:\");\n\t\tif (title.length > 1) {\n\t\t\ttitle = title[1].split(\"\\n\");\n\t\t\ttune.title = parseCommon.strip(title[0]);\n\t\t}\n\n\t\t// for the user's convenience, parse and store the id separately. The id is between the first X: and the next \\n\n\t\tvar id = tune.pure.substring(2, tune.pure.indexOf(\"\\n\"));\n\t\ttune.id = parseCommon.strip(id);\n\t});\n\n\treturn {\n\t\theader: header,\n\t\ttunes: tunes\n\t};\n};\n\nmodule.exports = bookParser;\n\n"},"lineCount":null}},"error":null,"hash":"9637a6fca8af0c754fa34f34fc8953c4","cacheData":{"env":{}}}