{"id":"node_modules/abcjs/src/write/abc_create_key_signature.js","dependencies":[{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\package.json","includedInParent":true,"mtime":1648705913118},{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\package.json","includedInParent":true,"mtime":1648703408663},{"name":"./abc_absolute_element","loc":{"line":3,"column":30,"index":65},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_create_key_signature.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_absolute_element.js"},{"name":"./abc_glyphs","loc":{"line":4,"column":21,"index":113},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_create_key_signature.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_glyphs.js"},{"name":"./abc_relative_element","loc":{"line":5,"column":30,"index":160},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_create_key_signature.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_relative_element.js"},{"name":"../parse/abc_common","loc":{"line":7,"column":26,"index":214},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_create_key_signature.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\parse\\abc_common.js"}],"generated":{"js":"//    abc_create_key_signature.js\n\nvar AbsoluteElement = require('./abc_absolute_element');\nvar glyphs = require('./abc_glyphs');\nvar RelativeElement = require('./abc_relative_element');\n\nvar parseCommon = require('../parse/abc_common');\n\nvar createKeySignature = function(elem, tuneNumber) {\n\telem.el_type = \"keySignature\";\n\t\tif (!elem.accidentals || elem.accidentals.length === 0)\n\t\t\treturn null;\n\t\tvar abselem = new AbsoluteElement(elem, 0, 10, 'staff-extra key-signature', tuneNumber);\n\t\tabselem.isKeySig = true;\n\t\tvar dx = 0;\n\t\tparseCommon.each(elem.accidentals, function(acc) {\n\t\t\tvar symbol;\n\t\t\tvar fudge = 0;\n\t\t\tswitch(acc.acc) {\n\t\t\t\tcase \"sharp\": symbol = \"accidentals.sharp\"; fudge = -3; break;\n\t\t\t\tcase \"natural\": symbol = \"accidentals.nat\"; break;\n\t\t\t\tcase \"flat\": symbol = \"accidentals.flat\"; fudge = -1.2; break;\n\t\t\t\tcase \"quartersharp\": symbol = \"accidentals.halfsharp\"; fudge = -2.5; break;\n\t\t\t\tcase \"quarterflat\": symbol = \"accidentals.halfflat\"; fudge = -1.2; break;\n\t\t\t\tdefault: symbol = \"accidentals.flat\";\n\t\t\t}\n\t\t\tabselem.addRight(new RelativeElement(symbol, dx, glyphs.getSymbolWidth(symbol), acc.verticalPos, {thickness: glyphs.symbolHeightInPitches(symbol), top: acc.verticalPos+glyphs.symbolHeightInPitches(symbol)+fudge, bottom: acc.verticalPos+fudge }));\n\t\t\tdx += glyphs.getSymbolWidth(symbol) + 2;\n\t\t}, this);\n\t\treturn abselem;\n\t};\n\nmodule.exports = createKeySignature;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/abcjs/src/write/abc_create_key_signature.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}}],"sources":{"node_modules/abcjs/src/write/abc_create_key_signature.js":"//    abc_create_key_signature.js\n\nvar AbsoluteElement = require('./abc_absolute_element');\nvar glyphs = require('./abc_glyphs');\nvar RelativeElement = require('./abc_relative_element');\n\nvar parseCommon = require('../parse/abc_common');\n\nvar createKeySignature = function(elem, tuneNumber) {\n\telem.el_type = \"keySignature\";\n\t\tif (!elem.accidentals || elem.accidentals.length === 0)\n\t\t\treturn null;\n\t\tvar abselem = new AbsoluteElement(elem, 0, 10, 'staff-extra key-signature', tuneNumber);\n\t\tabselem.isKeySig = true;\n\t\tvar dx = 0;\n\t\tparseCommon.each(elem.accidentals, function(acc) {\n\t\t\tvar symbol;\n\t\t\tvar fudge = 0;\n\t\t\tswitch(acc.acc) {\n\t\t\t\tcase \"sharp\": symbol = \"accidentals.sharp\"; fudge = -3; break;\n\t\t\t\tcase \"natural\": symbol = \"accidentals.nat\"; break;\n\t\t\t\tcase \"flat\": symbol = \"accidentals.flat\"; fudge = -1.2; break;\n\t\t\t\tcase \"quartersharp\": symbol = \"accidentals.halfsharp\"; fudge = -2.5; break;\n\t\t\t\tcase \"quarterflat\": symbol = \"accidentals.halfflat\"; fudge = -1.2; break;\n\t\t\t\tdefault: symbol = \"accidentals.flat\";\n\t\t\t}\n\t\t\tabselem.addRight(new RelativeElement(symbol, dx, glyphs.getSymbolWidth(symbol), acc.verticalPos, {thickness: glyphs.symbolHeightInPitches(symbol), top: acc.verticalPos+glyphs.symbolHeightInPitches(symbol)+fudge, bottom: acc.verticalPos+fudge }));\n\t\t\tdx += glyphs.getSymbolWidth(symbol) + 2;\n\t\t}, this);\n\t\treturn abselem;\n\t};\n\nmodule.exports = createKeySignature;\n"},"lineCount":34}},"error":null,"hash":"dff957f8825b81ed4ef9b0cf6fc31d84","cacheData":{"env":{}}}