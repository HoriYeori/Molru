{"id":"node_modules/abcjs/src/write/abc_decoration.js","dependencies":[{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\package.json","includedInParent":true,"mtime":1649031657578},{"name":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\package.json","includedInParent":true,"mtime":1649031653004},{"name":"./abc_dynamic_decoration","loc":{"line":3,"column":32,"index":116},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_decoration.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_dynamic_decoration.js"},{"name":"./abc_crescendo_element","loc":{"line":4,"column":28,"index":173},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_decoration.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_crescendo_element.js"},{"name":"./abc_glyphs","loc":{"line":5,"column":21,"index":222},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_decoration.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_glyphs.js"},{"name":"./abc_relative_element","loc":{"line":6,"column":30,"index":269},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_decoration.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_relative_element.js"},{"name":"./abc_tie_element","loc":{"line":7,"column":22,"index":318},"parent":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_decoration.js","resolved":"C:\\Users\\SSAFY\\Documents\\S06P22B107\\make-melody\\node_modules\\abcjs\\src\\write\\abc_tie_element.js"}],"generated":{"js":"// abc_decoration.js: Creates a data structure suitable for printing a line of abc\n\nvar DynamicDecoration = require('./abc_dynamic_decoration');\nvar CrescendoElem = require('./abc_crescendo_element');\nvar glyphs = require('./abc_glyphs');\nvar RelativeElement = require('./abc_relative_element');\nvar TieElem = require('./abc_tie_element');\n\nvar Decoration = function Decoration() {\n\t\tthis.startDiminuendoX = undefined;\n\t\tthis.startCrescendoX = undefined;\n\t\tthis.minTop = 12;\t// TODO-PER: this is assuming a 5-line staff. Pass that info in.\n\t\tthis.minBottom = 0;\n\t};\n\n\tvar closeDecoration = function(voice, decoration, pitch, width, abselem, roomtaken, dir, minPitch) {\n\t\tvar yPos;\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tif (decoration[i]===\"staccato\" || decoration[i]===\"tenuto\" || decoration[i] === \"accent\") {\n\t\t\t\tvar symbol = \"scripts.\" + decoration[i];\n\t\t\t\tif (decoration[i] === \"accent\") symbol = \"scripts.sforzato\";\n\t\t\t\tif (yPos === undefined)\n\t\t\t\t\tyPos = (dir===\"down\") ? pitch+2:minPitch-2;\n\t\t\t\telse\n\t\t\t\t\tyPos = (dir===\"down\") ? yPos+2:yPos-2;\n\t\t\t\tif (decoration[i] === \"accent\") {\n\t\t\t\t\t// Always place the accent three pitches away, no matter whether that is a line or space.\n\t\t\t\t\tif (dir === \"up\") yPos--;\n\t\t\t\t\telse yPos++;\n\t\t\t\t} else {\n\t\t\t\t\t// don't place on a stave line. The stave lines are 2,4,6,8,10\n\t\t\t\t\tswitch (yPos) {\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\tif (dir === \"up\") yPos--;\n\t\t\t\t\t\t\telse yPos++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pitch>9) yPos++; // take up some room of those that are above\n\t\t\t\tvar deltaX = width/2;\n\t\t\t\tif (glyphs.getSymbolAlign(symbol)!==\"center\") {\n\t\t\t\t\tdeltaX -= (glyphs.getSymbolWidth(symbol)/2);\n\t\t\t\t}\n\t\t\t\tabselem.addFixedX(new RelativeElement(symbol, deltaX, glyphs.getSymbolWidth(symbol), yPos));\n\t\t\t}\n\t\t\tif (decoration[i]===\"slide\" && abselem.heads[0]) {\n\t\t\t\tvar yPos2 = abselem.heads[0].pitch;\n\t\t\t\tyPos2 -= 2; // TODO-PER: not sure what this fudge factor is.\n\t\t\t\tvar blank1 = new RelativeElement(\"\", -roomtaken-15, 0, yPos2-1);\n\t\t\t\tvar blank2 = new RelativeElement(\"\", -roomtaken-5, 0, yPos2+1);\n\t\t\t\tabselem.addFixedX(blank1);\n\t\t\t\tabselem.addFixedX(blank2);\n\t\t\t\tvoice.addOther(new TieElem({ anchor1: blank1, anchor2: blank2, fixedY: true}));\n\t\t\t}\n\t\t}\n\t\tif (yPos === undefined)\n\t\t\tyPos = pitch;\n\n\t\treturn { above: yPos, below: abselem.bottom };\n\t};\n\n\tvar volumeDecoration = function(voice, decoration, abselem, positioning) {\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"p\":\n\t\t\t\tcase \"mp\":\n\t\t\t\tcase \"pp\":\n\t\t\t\tcase \"ppp\":\n\t\t\t\tcase \"pppp\":\n\t\t\t\tcase \"f\":\n\t\t\t\tcase \"ff\":\n\t\t\t\tcase \"fff\":\n\t\t\t\tcase \"ffff\":\n\t\t\t\tcase \"sfz\":\n\t\t\t\tcase \"mf\":\n\t\t\t\t\tvar elem = new DynamicDecoration(abselem, decoration[i], positioning);\n\t\t\t\t\tvoice.addOther(elem);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar compoundDecoration = function(decoration, pitch, width, abselem, dir) {\n\t\tfunction highestPitch() {\n\t\t\tif (abselem.heads.length === 0)\n\t\t\t\treturn 10;\t// TODO-PER: I don't know if this can happen, but we'll return the top of the staff if so.\n\t\t\tvar pitch = abselem.heads[0].pitch;\n\t\t\tfor (var i = 1; i < abselem.heads.length; i++)\n\t\t\t\tpitch = Math.max(pitch, abselem.heads[i].pitch);\n\t\t\treturn pitch;\n\t\t}\n\t\tfunction lowestPitch() {\n\t\t\tif (abselem.heads.length === 0)\n\t\t\t\treturn 2;\t// TODO-PER: I don't know if this can happen, but we'll return the bottom of the staff if so.\n\t\t\tvar pitch = abselem.heads[0].pitch;\n\t\t\tfor (var i = 1; i < abselem.heads.length; i++)\n\t\t\t\tpitch = Math.min(pitch, abselem.heads[i].pitch);\n\t\t\treturn pitch;\n\t\t}\n\t\tfunction compoundDecoration(symbol, count) {\n\t\t\tvar placement = (dir === 'down') ? lowestPitch()+1:highestPitch()+9;\n\t\t\tif (dir !== 'down' && count === 1)\n\t\t\t\tplacement--;\n\t\t\tvar deltaX = width/2;\n\t\t\tdeltaX += (dir === 'down') ? -5 : 3;\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tplacement -= 1;\n\t\t\t\tabselem.addFixedX(new RelativeElement(symbol, deltaX, glyphs.getSymbolWidth(symbol), placement));\n\t\t\t}\n\t\t}\n\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"/\": compoundDecoration(\"flags.ugrace\", 1); break;\n\t\t\t\tcase \"//\": compoundDecoration(\"flags.ugrace\", 2); break;\n\t\t\t\tcase \"///\": compoundDecoration(\"flags.ugrace\", 3); break;\n\t\t\t\tcase \"////\": compoundDecoration(\"flags.ugrace\", 4); break;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar stackedDecoration = function(decoration, width, abselem, yPos, positioning, minTop, minBottom) {\n\t\tfunction incrementPlacement(placement, height) {\n\t\t\tif (placement === 'above')\n\t\t\t\tyPos.above += height;\n\t\t\telse\n\t\t\t\tyPos.below -= height;\n\t\t}\n\t\tfunction getPlacement(placement) {\n\t\t\tvar y;\n\t\t\tif (placement === 'above') {\n\t\t\t\ty = yPos.above;\n\t\t\t\tif (y < minTop)\n\t\t\t\t\ty = minTop;\n\t\t\t} else {\n\t\t\t\ty = yPos.below;\n\t\t\t\tif (y > minBottom)\n\t\t\t\t\ty = minBottom;\n\t\t\t}\n\t\t\treturn y;\n\t\t}\n\t\tfunction textDecoration(text, placement) {\n\t\t\tvar y = getPlacement(placement);\n\t\t\tvar textFudge = 2;\n\t\t\tvar textHeight = 5;\n\t\t\t// TODO-PER: Get the height of the current font and use that for the thickness.\n\t\t\tabselem.addFixedX(new RelativeElement(text, width/2, 0, y+textFudge, {type:\"decoration\", klass: 'ornament', thickness: 3}));\n\n\t\t\tincrementPlacement(placement, textHeight);\n\t\t}\n\t\tfunction symbolDecoration(symbol, placement) {\n\t\t\tvar deltaX = width/2;\n\t\t\tif (glyphs.getSymbolAlign(symbol) !== \"center\") {\n\t\t\t\tdeltaX -= (glyphs.getSymbolWidth(symbol) / 2);\n\t\t\t}\n\t\t\tvar height = glyphs.symbolHeightInPitches(symbol) + 1; // adding a little padding so nothing touches.\n\t\t\tvar y = getPlacement(placement);\n\t\t\ty = (placement === 'above') ? y + height/2 : y - height/2;// Center the element vertically.\n\t\t\tabselem.addFixedX(new RelativeElement(symbol, deltaX, glyphs.getSymbolWidth(symbol), y, { klass: 'ornament', thickness: glyphs.symbolHeightInPitches(symbol) }));\n\n\t\t\tincrementPlacement(placement, height);\n\t\t}\n\n\t\tvar symbolList = {\n\t\t\t\"+\": \"scripts.stopped\",\n\t\t\t\"open\": \"scripts.open\",\n\t\t\t\"snap\": \"scripts.snap\",\n\t\t\t\"wedge\": \"scripts.wedge\",\n\t\t\t\"thumb\": \"scripts.thumb\",\n\t\t\t\"shortphrase\": \"scripts.shortphrase\",\n\t\t\t\"mediumphrase\": \"scripts.mediumphrase\",\n\t\t\t\"longphrase\": \"scripts.longphrase\",\n\t\t\t\"trill\": \"scripts.trill\",\n\t\t\t\"roll\": \"scripts.roll\",\n\t\t\t\"irishroll\": \"scripts.roll\",\n\t\t\t\"marcato\": \"scripts.umarcato\",\n\t\t\t\"dmarcato\": \"scripts.dmarcato\",\n\t\t\t\"umarcato\": \"scripts.umarcato\",\n\t\t\t\"turn\": \"scripts.turn\",\n\t\t\t\"uppermordent\": \"scripts.prall\",\n\t\t\t\"pralltriller\": \"scripts.prall\",\n\t\t\t\"mordent\": \"scripts.mordent\",\n\t\t\t\"lowermordent\": \"scripts.mordent\",\n\t\t\t\"downbow\": \"scripts.downbow\",\n\t\t\t\"upbow\": \"scripts.upbow\",\n\t\t\t\"fermata\": \"scripts.ufermata\",\n\t\t\t\"invertedfermata\": \"scripts.dfermata\",\n\t\t\t\"breath\": \",\",\n\t\t\t\"coda\": \"scripts.coda\",\n\t\t\t\"segno\": \"scripts.segno\"\n\t\t};\n\n\t\tvar hasOne = false;\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"0\":\n\t\t\t\tcase \"1\":\n\t\t\t\tcase \"2\":\n\t\t\t\tcase \"3\":\n\t\t\t\tcase \"4\":\n\t\t\t\tcase \"5\":\n\t\t\t\tcase \"D.C.\":\n\t\t\t\tcase \"D.S.\":\n\t\t\t\t\ttextDecoration(decoration[i], positioning);\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"fine\":\n\t\t\t\t\ttextDecoration(\"FINE\", positioning);\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"+\":\n\t\t\t\tcase \"open\":\n\t\t\t\tcase \"snap\":\n\t\t\t\tcase \"wedge\":\n\t\t\t\tcase \"thumb\":\n\t\t\t\tcase \"shortphrase\":\n\t\t\t\tcase \"mediumphrase\":\n\t\t\t\tcase \"longphrase\":\n\t\t\t\tcase \"trill\":\n\t\t\t\tcase \"roll\":\n\t\t\t\tcase \"irishroll\":\n\t\t\t\tcase \"marcato\":\n\t\t\t\tcase \"dmarcato\":\n\t\t\t\tcase \"turn\":\n\t\t\t\tcase \"uppermordent\":\n\t\t\t\tcase \"pralltriller\":\n\t\t\t\tcase \"mordent\":\n\t\t\t\tcase \"lowermordent\":\n\t\t\t\tcase \"downbow\":\n\t\t\t\tcase \"upbow\":\n\t\t\t\tcase \"fermata\":\n\t\t\t\tcase \"breath\":\n\t\t\t\tcase \"umarcato\":\n\t\t\t\tcase \"coda\":\n\t\t\t\tcase \"segno\":\n\t\t\t\t\tsymbolDecoration(symbolList[decoration[i]], positioning);\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"invertedfermata\":\n\t\t\t\t\tsymbolDecoration(symbolList[decoration[i]], 'below');\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"mark\":\n\t\t\t\t\tabselem.klass = \"mark\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn hasOne;\n\t};\n\n\tfunction leftDecoration(decoration, abselem, roomtaken) {\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch (decoration[i]) {\n\t\t\t\tcase \"arpeggio\":\n\t\t\t\t\t// The arpeggio symbol is the height of a note (that is, two Y units). This stacks as many as we need to go from the\n\t\t\t\t\t// top note to the bottom note. The arpeggio should also be a little taller than the stacked notes, so there is an extra\n\t\t\t\t\t// one drawn and it is offset by half of a note height (that is, one Y unit).\n\t\t\t\t\tfor (var j = abselem.abcelem.minpitch - 1; j <= abselem.abcelem.maxpitch; j += 2) {\n\t\t\t\t\t\tabselem.addExtra(\n\t\t\t\t\t\t\tnew RelativeElement(\n\t\t\t\t\t\t\t\t\"scripts.arpeggio\",\n\t\t\t\t\t\t\t\t-glyphs.getSymbolWidth(\"scripts.arpeggio\")*2 - roomtaken,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tj+2,\n\t\t\t\t\t\t\t\t{klass: 'ornament', thickness: glyphs.symbolHeightInPitches(\"scripts.arpeggio\")}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tDecoration.prototype.dynamicDecoration = function(voice, decoration, abselem, positioning) {\n\t\tvar diminuendo;\n\t\tvar crescendo;\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"diminuendo(\":\n\t\t\t\t\tthis.startDiminuendoX = abselem;\n\t\t\t\t\tdiminuendo = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"diminuendo)\":\n\t\t\t\t\tdiminuendo = { start: this.startDiminuendoX, stop: abselem};\n\t\t\t\t\tthis.startDiminuendoX = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"crescendo(\":\n\t\t\t\t\tthis.startCrescendoX = abselem;\n\t\t\t\t\tcrescendo = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"crescendo)\":\n\t\t\t\t\tcrescendo = { start: this.startCrescendoX, stop: abselem};\n\t\t\t\t\tthis.startCrescendoX = undefined;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (diminuendo) {\n\t\t\tvoice.addOther(new CrescendoElem(diminuendo.start, diminuendo.stop, \">\", positioning));\n\t\t}\n\t\tif (crescendo) {\n\t\t\tvoice.addOther(new CrescendoElem(crescendo.start, crescendo.stop, \"<\", positioning));\n\t\t}\n\t};\n\n\tDecoration.prototype.createDecoration = function(voice, decoration, pitch, width, abselem, roomtaken, dir, minPitch, positioning, hasVocals) {\n\t\tif (!positioning)\n\t\t\tpositioning = { ornamentPosition: 'above', volumePosition: hasVocals ? 'above' :'below', dynamicPosition: hasVocals ? 'above' : 'below' };\n\t\t// These decorations don't affect the placement of other decorations\n\t\tvolumeDecoration(voice, decoration, abselem, positioning.volumePosition);\n\t\tthis.dynamicDecoration(voice, decoration, abselem, positioning.dynamicPosition);\n\t\tcompoundDecoration(decoration, pitch, width, abselem, dir);\n\n\t\t// treat staccato, accent, and tenuto first (may need to shift other markers)\n\t\tvar yPos = closeDecoration(voice, decoration, pitch, width, abselem, roomtaken, dir, minPitch);\n\t\t// yPos is an object containing 'above' and 'below'. That is the placement of the next symbol on either side.\n\n\t\tyPos.above = Math.max(yPos.above, this.minTop);\n\t\tvar hasOne = stackedDecoration(decoration, width, abselem, yPos, positioning.ornamentPosition, this.minTop, this.minBottom);\n\t\tif (hasOne) {\n//\t\t\tabselem.top = Math.max(yPos.above + 3, abselem.top); // TODO-PER: Not sure why we need this fudge factor.\n\t\t}\n\t\tleftDecoration(decoration, abselem, roomtaken);\n\t};\n\nmodule.exports = Decoration;\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":140,"column":0},"generated":{"line":140,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":141,"column":0},"generated":{"line":141,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":142,"column":0},"generated":{"line":142,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":143,"column":0},"generated":{"line":143,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":144,"column":0},"generated":{"line":144,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":145,"column":0},"generated":{"line":145,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":146,"column":0},"generated":{"line":146,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":147,"column":0},"generated":{"line":147,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":148,"column":0},"generated":{"line":148,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":149,"column":0},"generated":{"line":149,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":150,"column":0},"generated":{"line":150,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":151,"column":0},"generated":{"line":151,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":152,"column":0},"generated":{"line":152,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":153,"column":0},"generated":{"line":153,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":154,"column":0},"generated":{"line":154,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":155,"column":0},"generated":{"line":155,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":156,"column":0},"generated":{"line":156,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":157,"column":0},"generated":{"line":157,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":158,"column":0},"generated":{"line":158,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":159,"column":0},"generated":{"line":159,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":160,"column":0},"generated":{"line":160,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":161,"column":0},"generated":{"line":161,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":162,"column":0},"generated":{"line":162,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":163,"column":0},"generated":{"line":163,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":164,"column":0},"generated":{"line":164,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":165,"column":0},"generated":{"line":165,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":166,"column":0},"generated":{"line":166,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":167,"column":0},"generated":{"line":167,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":168,"column":0},"generated":{"line":168,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":169,"column":0},"generated":{"line":169,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":170,"column":0},"generated":{"line":170,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":171,"column":0},"generated":{"line":171,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":172,"column":0},"generated":{"line":172,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":173,"column":0},"generated":{"line":173,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":174,"column":0},"generated":{"line":174,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":175,"column":0},"generated":{"line":175,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":176,"column":0},"generated":{"line":176,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":177,"column":0},"generated":{"line":177,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":178,"column":0},"generated":{"line":178,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":179,"column":0},"generated":{"line":179,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":180,"column":0},"generated":{"line":180,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":181,"column":0},"generated":{"line":181,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":182,"column":0},"generated":{"line":182,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":183,"column":0},"generated":{"line":183,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":184,"column":0},"generated":{"line":184,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":185,"column":0},"generated":{"line":185,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":186,"column":0},"generated":{"line":186,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":187,"column":0},"generated":{"line":187,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":188,"column":0},"generated":{"line":188,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":189,"column":0},"generated":{"line":189,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":190,"column":0},"generated":{"line":190,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":191,"column":0},"generated":{"line":191,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":192,"column":0},"generated":{"line":192,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":193,"column":0},"generated":{"line":193,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":194,"column":0},"generated":{"line":194,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":195,"column":0},"generated":{"line":195,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":196,"column":0},"generated":{"line":196,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":197,"column":0},"generated":{"line":197,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":198,"column":0},"generated":{"line":198,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":199,"column":0},"generated":{"line":199,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":200,"column":0},"generated":{"line":200,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":201,"column":0},"generated":{"line":201,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":202,"column":0},"generated":{"line":202,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":203,"column":0},"generated":{"line":203,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":204,"column":0},"generated":{"line":204,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":205,"column":0},"generated":{"line":205,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":206,"column":0},"generated":{"line":206,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":207,"column":0},"generated":{"line":207,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":208,"column":0},"generated":{"line":208,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":209,"column":0},"generated":{"line":209,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":210,"column":0},"generated":{"line":210,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":211,"column":0},"generated":{"line":211,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":212,"column":0},"generated":{"line":212,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":213,"column":0},"generated":{"line":213,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":214,"column":0},"generated":{"line":214,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":215,"column":0},"generated":{"line":215,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":216,"column":0},"generated":{"line":216,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":217,"column":0},"generated":{"line":217,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":218,"column":0},"generated":{"line":218,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":219,"column":0},"generated":{"line":219,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":220,"column":0},"generated":{"line":220,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":221,"column":0},"generated":{"line":221,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":222,"column":0},"generated":{"line":222,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":223,"column":0},"generated":{"line":223,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":224,"column":0},"generated":{"line":224,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":225,"column":0},"generated":{"line":225,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":226,"column":0},"generated":{"line":226,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":227,"column":0},"generated":{"line":227,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":228,"column":0},"generated":{"line":228,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":229,"column":0},"generated":{"line":229,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":230,"column":0},"generated":{"line":230,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":231,"column":0},"generated":{"line":231,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":232,"column":0},"generated":{"line":232,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":233,"column":0},"generated":{"line":233,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":234,"column":0},"generated":{"line":234,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":235,"column":0},"generated":{"line":235,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":236,"column":0},"generated":{"line":236,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":237,"column":0},"generated":{"line":237,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":238,"column":0},"generated":{"line":238,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":239,"column":0},"generated":{"line":239,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":240,"column":0},"generated":{"line":240,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":241,"column":0},"generated":{"line":241,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":242,"column":0},"generated":{"line":242,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":243,"column":0},"generated":{"line":243,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":244,"column":0},"generated":{"line":244,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":245,"column":0},"generated":{"line":245,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":246,"column":0},"generated":{"line":246,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":247,"column":0},"generated":{"line":247,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":248,"column":0},"generated":{"line":248,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":249,"column":0},"generated":{"line":249,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":250,"column":0},"generated":{"line":250,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":251,"column":0},"generated":{"line":251,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":252,"column":0},"generated":{"line":252,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":253,"column":0},"generated":{"line":253,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":254,"column":0},"generated":{"line":254,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":255,"column":0},"generated":{"line":255,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":256,"column":0},"generated":{"line":256,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":257,"column":0},"generated":{"line":257,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":258,"column":0},"generated":{"line":258,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":259,"column":0},"generated":{"line":259,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":260,"column":0},"generated":{"line":260,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":261,"column":0},"generated":{"line":261,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":262,"column":0},"generated":{"line":262,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":263,"column":0},"generated":{"line":263,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":264,"column":0},"generated":{"line":264,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":265,"column":0},"generated":{"line":265,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":266,"column":0},"generated":{"line":266,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":267,"column":0},"generated":{"line":267,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":268,"column":0},"generated":{"line":268,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":269,"column":0},"generated":{"line":269,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":270,"column":0},"generated":{"line":270,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":271,"column":0},"generated":{"line":271,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":272,"column":0},"generated":{"line":272,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":273,"column":0},"generated":{"line":273,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":274,"column":0},"generated":{"line":274,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":275,"column":0},"generated":{"line":275,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":276,"column":0},"generated":{"line":276,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":277,"column":0},"generated":{"line":277,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":278,"column":0},"generated":{"line":278,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":279,"column":0},"generated":{"line":279,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":280,"column":0},"generated":{"line":280,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":281,"column":0},"generated":{"line":281,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":282,"column":0},"generated":{"line":282,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":283,"column":0},"generated":{"line":283,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":284,"column":0},"generated":{"line":284,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":285,"column":0},"generated":{"line":285,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":286,"column":0},"generated":{"line":286,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":287,"column":0},"generated":{"line":287,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":288,"column":0},"generated":{"line":288,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":289,"column":0},"generated":{"line":289,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":290,"column":0},"generated":{"line":290,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":291,"column":0},"generated":{"line":291,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":292,"column":0},"generated":{"line":292,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":293,"column":0},"generated":{"line":293,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":294,"column":0},"generated":{"line":294,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":295,"column":0},"generated":{"line":295,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":296,"column":0},"generated":{"line":296,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":297,"column":0},"generated":{"line":297,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":298,"column":0},"generated":{"line":298,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":299,"column":0},"generated":{"line":299,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":300,"column":0},"generated":{"line":300,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":301,"column":0},"generated":{"line":301,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":302,"column":0},"generated":{"line":302,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":303,"column":0},"generated":{"line":303,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":304,"column":0},"generated":{"line":304,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":305,"column":0},"generated":{"line":305,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":306,"column":0},"generated":{"line":306,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":307,"column":0},"generated":{"line":307,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":308,"column":0},"generated":{"line":308,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":309,"column":0},"generated":{"line":309,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":310,"column":0},"generated":{"line":310,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":311,"column":0},"generated":{"line":311,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":312,"column":0},"generated":{"line":312,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":313,"column":0},"generated":{"line":313,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":314,"column":0},"generated":{"line":314,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":315,"column":0},"generated":{"line":315,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":316,"column":0},"generated":{"line":316,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":317,"column":0},"generated":{"line":317,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":318,"column":0},"generated":{"line":318,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":319,"column":0},"generated":{"line":319,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":320,"column":0},"generated":{"line":320,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":321,"column":0},"generated":{"line":321,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":322,"column":0},"generated":{"line":322,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":323,"column":0},"generated":{"line":323,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":324,"column":0},"generated":{"line":324,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":325,"column":0},"generated":{"line":325,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":326,"column":0},"generated":{"line":326,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":327,"column":0},"generated":{"line":327,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":328,"column":0},"generated":{"line":328,"column":0}},{"source":"node_modules/abcjs/src/write/abc_decoration.js","original":{"line":329,"column":0},"generated":{"line":329,"column":0}}],"sources":{"node_modules/abcjs/src/write/abc_decoration.js":"// abc_decoration.js: Creates a data structure suitable for printing a line of abc\n\nvar DynamicDecoration = require('./abc_dynamic_decoration');\nvar CrescendoElem = require('./abc_crescendo_element');\nvar glyphs = require('./abc_glyphs');\nvar RelativeElement = require('./abc_relative_element');\nvar TieElem = require('./abc_tie_element');\n\nvar Decoration = function Decoration() {\n\t\tthis.startDiminuendoX = undefined;\n\t\tthis.startCrescendoX = undefined;\n\t\tthis.minTop = 12;\t// TODO-PER: this is assuming a 5-line staff. Pass that info in.\n\t\tthis.minBottom = 0;\n\t};\n\n\tvar closeDecoration = function(voice, decoration, pitch, width, abselem, roomtaken, dir, minPitch) {\n\t\tvar yPos;\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tif (decoration[i]===\"staccato\" || decoration[i]===\"tenuto\" || decoration[i] === \"accent\") {\n\t\t\t\tvar symbol = \"scripts.\" + decoration[i];\n\t\t\t\tif (decoration[i] === \"accent\") symbol = \"scripts.sforzato\";\n\t\t\t\tif (yPos === undefined)\n\t\t\t\t\tyPos = (dir===\"down\") ? pitch+2:minPitch-2;\n\t\t\t\telse\n\t\t\t\t\tyPos = (dir===\"down\") ? yPos+2:yPos-2;\n\t\t\t\tif (decoration[i] === \"accent\") {\n\t\t\t\t\t// Always place the accent three pitches away, no matter whether that is a line or space.\n\t\t\t\t\tif (dir === \"up\") yPos--;\n\t\t\t\t\telse yPos++;\n\t\t\t\t} else {\n\t\t\t\t\t// don't place on a stave line. The stave lines are 2,4,6,8,10\n\t\t\t\t\tswitch (yPos) {\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\tcase 10:\n\t\t\t\t\t\t\tif (dir === \"up\") yPos--;\n\t\t\t\t\t\t\telse yPos++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pitch>9) yPos++; // take up some room of those that are above\n\t\t\t\tvar deltaX = width/2;\n\t\t\t\tif (glyphs.getSymbolAlign(symbol)!==\"center\") {\n\t\t\t\t\tdeltaX -= (glyphs.getSymbolWidth(symbol)/2);\n\t\t\t\t}\n\t\t\t\tabselem.addFixedX(new RelativeElement(symbol, deltaX, glyphs.getSymbolWidth(symbol), yPos));\n\t\t\t}\n\t\t\tif (decoration[i]===\"slide\" && abselem.heads[0]) {\n\t\t\t\tvar yPos2 = abselem.heads[0].pitch;\n\t\t\t\tyPos2 -= 2; // TODO-PER: not sure what this fudge factor is.\n\t\t\t\tvar blank1 = new RelativeElement(\"\", -roomtaken-15, 0, yPos2-1);\n\t\t\t\tvar blank2 = new RelativeElement(\"\", -roomtaken-5, 0, yPos2+1);\n\t\t\t\tabselem.addFixedX(blank1);\n\t\t\t\tabselem.addFixedX(blank2);\n\t\t\t\tvoice.addOther(new TieElem({ anchor1: blank1, anchor2: blank2, fixedY: true}));\n\t\t\t}\n\t\t}\n\t\tif (yPos === undefined)\n\t\t\tyPos = pitch;\n\n\t\treturn { above: yPos, below: abselem.bottom };\n\t};\n\n\tvar volumeDecoration = function(voice, decoration, abselem, positioning) {\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"p\":\n\t\t\t\tcase \"mp\":\n\t\t\t\tcase \"pp\":\n\t\t\t\tcase \"ppp\":\n\t\t\t\tcase \"pppp\":\n\t\t\t\tcase \"f\":\n\t\t\t\tcase \"ff\":\n\t\t\t\tcase \"fff\":\n\t\t\t\tcase \"ffff\":\n\t\t\t\tcase \"sfz\":\n\t\t\t\tcase \"mf\":\n\t\t\t\t\tvar elem = new DynamicDecoration(abselem, decoration[i], positioning);\n\t\t\t\t\tvoice.addOther(elem);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar compoundDecoration = function(decoration, pitch, width, abselem, dir) {\n\t\tfunction highestPitch() {\n\t\t\tif (abselem.heads.length === 0)\n\t\t\t\treturn 10;\t// TODO-PER: I don't know if this can happen, but we'll return the top of the staff if so.\n\t\t\tvar pitch = abselem.heads[0].pitch;\n\t\t\tfor (var i = 1; i < abselem.heads.length; i++)\n\t\t\t\tpitch = Math.max(pitch, abselem.heads[i].pitch);\n\t\t\treturn pitch;\n\t\t}\n\t\tfunction lowestPitch() {\n\t\t\tif (abselem.heads.length === 0)\n\t\t\t\treturn 2;\t// TODO-PER: I don't know if this can happen, but we'll return the bottom of the staff if so.\n\t\t\tvar pitch = abselem.heads[0].pitch;\n\t\t\tfor (var i = 1; i < abselem.heads.length; i++)\n\t\t\t\tpitch = Math.min(pitch, abselem.heads[i].pitch);\n\t\t\treturn pitch;\n\t\t}\n\t\tfunction compoundDecoration(symbol, count) {\n\t\t\tvar placement = (dir === 'down') ? lowestPitch()+1:highestPitch()+9;\n\t\t\tif (dir !== 'down' && count === 1)\n\t\t\t\tplacement--;\n\t\t\tvar deltaX = width/2;\n\t\t\tdeltaX += (dir === 'down') ? -5 : 3;\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tplacement -= 1;\n\t\t\t\tabselem.addFixedX(new RelativeElement(symbol, deltaX, glyphs.getSymbolWidth(symbol), placement));\n\t\t\t}\n\t\t}\n\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"/\": compoundDecoration(\"flags.ugrace\", 1); break;\n\t\t\t\tcase \"//\": compoundDecoration(\"flags.ugrace\", 2); break;\n\t\t\t\tcase \"///\": compoundDecoration(\"flags.ugrace\", 3); break;\n\t\t\t\tcase \"////\": compoundDecoration(\"flags.ugrace\", 4); break;\n\t\t\t}\n\t\t}\n\t};\n\n\tvar stackedDecoration = function(decoration, width, abselem, yPos, positioning, minTop, minBottom) {\n\t\tfunction incrementPlacement(placement, height) {\n\t\t\tif (placement === 'above')\n\t\t\t\tyPos.above += height;\n\t\t\telse\n\t\t\t\tyPos.below -= height;\n\t\t}\n\t\tfunction getPlacement(placement) {\n\t\t\tvar y;\n\t\t\tif (placement === 'above') {\n\t\t\t\ty = yPos.above;\n\t\t\t\tif (y < minTop)\n\t\t\t\t\ty = minTop;\n\t\t\t} else {\n\t\t\t\ty = yPos.below;\n\t\t\t\tif (y > minBottom)\n\t\t\t\t\ty = minBottom;\n\t\t\t}\n\t\t\treturn y;\n\t\t}\n\t\tfunction textDecoration(text, placement) {\n\t\t\tvar y = getPlacement(placement);\n\t\t\tvar textFudge = 2;\n\t\t\tvar textHeight = 5;\n\t\t\t// TODO-PER: Get the height of the current font and use that for the thickness.\n\t\t\tabselem.addFixedX(new RelativeElement(text, width/2, 0, y+textFudge, {type:\"decoration\", klass: 'ornament', thickness: 3}));\n\n\t\t\tincrementPlacement(placement, textHeight);\n\t\t}\n\t\tfunction symbolDecoration(symbol, placement) {\n\t\t\tvar deltaX = width/2;\n\t\t\tif (glyphs.getSymbolAlign(symbol) !== \"center\") {\n\t\t\t\tdeltaX -= (glyphs.getSymbolWidth(symbol) / 2);\n\t\t\t}\n\t\t\tvar height = glyphs.symbolHeightInPitches(symbol) + 1; // adding a little padding so nothing touches.\n\t\t\tvar y = getPlacement(placement);\n\t\t\ty = (placement === 'above') ? y + height/2 : y - height/2;// Center the element vertically.\n\t\t\tabselem.addFixedX(new RelativeElement(symbol, deltaX, glyphs.getSymbolWidth(symbol), y, { klass: 'ornament', thickness: glyphs.symbolHeightInPitches(symbol) }));\n\n\t\t\tincrementPlacement(placement, height);\n\t\t}\n\n\t\tvar symbolList = {\n\t\t\t\"+\": \"scripts.stopped\",\n\t\t\t\"open\": \"scripts.open\",\n\t\t\t\"snap\": \"scripts.snap\",\n\t\t\t\"wedge\": \"scripts.wedge\",\n\t\t\t\"thumb\": \"scripts.thumb\",\n\t\t\t\"shortphrase\": \"scripts.shortphrase\",\n\t\t\t\"mediumphrase\": \"scripts.mediumphrase\",\n\t\t\t\"longphrase\": \"scripts.longphrase\",\n\t\t\t\"trill\": \"scripts.trill\",\n\t\t\t\"roll\": \"scripts.roll\",\n\t\t\t\"irishroll\": \"scripts.roll\",\n\t\t\t\"marcato\": \"scripts.umarcato\",\n\t\t\t\"dmarcato\": \"scripts.dmarcato\",\n\t\t\t\"umarcato\": \"scripts.umarcato\",\n\t\t\t\"turn\": \"scripts.turn\",\n\t\t\t\"uppermordent\": \"scripts.prall\",\n\t\t\t\"pralltriller\": \"scripts.prall\",\n\t\t\t\"mordent\": \"scripts.mordent\",\n\t\t\t\"lowermordent\": \"scripts.mordent\",\n\t\t\t\"downbow\": \"scripts.downbow\",\n\t\t\t\"upbow\": \"scripts.upbow\",\n\t\t\t\"fermata\": \"scripts.ufermata\",\n\t\t\t\"invertedfermata\": \"scripts.dfermata\",\n\t\t\t\"breath\": \",\",\n\t\t\t\"coda\": \"scripts.coda\",\n\t\t\t\"segno\": \"scripts.segno\"\n\t\t};\n\n\t\tvar hasOne = false;\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"0\":\n\t\t\t\tcase \"1\":\n\t\t\t\tcase \"2\":\n\t\t\t\tcase \"3\":\n\t\t\t\tcase \"4\":\n\t\t\t\tcase \"5\":\n\t\t\t\tcase \"D.C.\":\n\t\t\t\tcase \"D.S.\":\n\t\t\t\t\ttextDecoration(decoration[i], positioning);\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"fine\":\n\t\t\t\t\ttextDecoration(\"FINE\", positioning);\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"+\":\n\t\t\t\tcase \"open\":\n\t\t\t\tcase \"snap\":\n\t\t\t\tcase \"wedge\":\n\t\t\t\tcase \"thumb\":\n\t\t\t\tcase \"shortphrase\":\n\t\t\t\tcase \"mediumphrase\":\n\t\t\t\tcase \"longphrase\":\n\t\t\t\tcase \"trill\":\n\t\t\t\tcase \"roll\":\n\t\t\t\tcase \"irishroll\":\n\t\t\t\tcase \"marcato\":\n\t\t\t\tcase \"dmarcato\":\n\t\t\t\tcase \"turn\":\n\t\t\t\tcase \"uppermordent\":\n\t\t\t\tcase \"pralltriller\":\n\t\t\t\tcase \"mordent\":\n\t\t\t\tcase \"lowermordent\":\n\t\t\t\tcase \"downbow\":\n\t\t\t\tcase \"upbow\":\n\t\t\t\tcase \"fermata\":\n\t\t\t\tcase \"breath\":\n\t\t\t\tcase \"umarcato\":\n\t\t\t\tcase \"coda\":\n\t\t\t\tcase \"segno\":\n\t\t\t\t\tsymbolDecoration(symbolList[decoration[i]], positioning);\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"invertedfermata\":\n\t\t\t\t\tsymbolDecoration(symbolList[decoration[i]], 'below');\n\t\t\t\t\thasOne = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"mark\":\n\t\t\t\t\tabselem.klass = \"mark\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn hasOne;\n\t};\n\n\tfunction leftDecoration(decoration, abselem, roomtaken) {\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch (decoration[i]) {\n\t\t\t\tcase \"arpeggio\":\n\t\t\t\t\t// The arpeggio symbol is the height of a note (that is, two Y units). This stacks as many as we need to go from the\n\t\t\t\t\t// top note to the bottom note. The arpeggio should also be a little taller than the stacked notes, so there is an extra\n\t\t\t\t\t// one drawn and it is offset by half of a note height (that is, one Y unit).\n\t\t\t\t\tfor (var j = abselem.abcelem.minpitch - 1; j <= abselem.abcelem.maxpitch; j += 2) {\n\t\t\t\t\t\tabselem.addExtra(\n\t\t\t\t\t\t\tnew RelativeElement(\n\t\t\t\t\t\t\t\t\"scripts.arpeggio\",\n\t\t\t\t\t\t\t\t-glyphs.getSymbolWidth(\"scripts.arpeggio\")*2 - roomtaken,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tj+2,\n\t\t\t\t\t\t\t\t{klass: 'ornament', thickness: glyphs.symbolHeightInPitches(\"scripts.arpeggio\")}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tDecoration.prototype.dynamicDecoration = function(voice, decoration, abselem, positioning) {\n\t\tvar diminuendo;\n\t\tvar crescendo;\n\t\tfor (var i=0;i<decoration.length; i++) {\n\t\t\tswitch(decoration[i]) {\n\t\t\t\tcase \"diminuendo(\":\n\t\t\t\t\tthis.startDiminuendoX = abselem;\n\t\t\t\t\tdiminuendo = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"diminuendo)\":\n\t\t\t\t\tdiminuendo = { start: this.startDiminuendoX, stop: abselem};\n\t\t\t\t\tthis.startDiminuendoX = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"crescendo(\":\n\t\t\t\t\tthis.startCrescendoX = abselem;\n\t\t\t\t\tcrescendo = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"crescendo)\":\n\t\t\t\t\tcrescendo = { start: this.startCrescendoX, stop: abselem};\n\t\t\t\t\tthis.startCrescendoX = undefined;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (diminuendo) {\n\t\t\tvoice.addOther(new CrescendoElem(diminuendo.start, diminuendo.stop, \">\", positioning));\n\t\t}\n\t\tif (crescendo) {\n\t\t\tvoice.addOther(new CrescendoElem(crescendo.start, crescendo.stop, \"<\", positioning));\n\t\t}\n\t};\n\n\tDecoration.prototype.createDecoration = function(voice, decoration, pitch, width, abselem, roomtaken, dir, minPitch, positioning, hasVocals) {\n\t\tif (!positioning)\n\t\t\tpositioning = { ornamentPosition: 'above', volumePosition: hasVocals ? 'above' :'below', dynamicPosition: hasVocals ? 'above' : 'below' };\n\t\t// These decorations don't affect the placement of other decorations\n\t\tvolumeDecoration(voice, decoration, abselem, positioning.volumePosition);\n\t\tthis.dynamicDecoration(voice, decoration, abselem, positioning.dynamicPosition);\n\t\tcompoundDecoration(decoration, pitch, width, abselem, dir);\n\n\t\t// treat staccato, accent, and tenuto first (may need to shift other markers)\n\t\tvar yPos = closeDecoration(voice, decoration, pitch, width, abselem, roomtaken, dir, minPitch);\n\t\t// yPos is an object containing 'above' and 'below'. That is the placement of the next symbol on either side.\n\n\t\tyPos.above = Math.max(yPos.above, this.minTop);\n\t\tvar hasOne = stackedDecoration(decoration, width, abselem, yPos, positioning.ornamentPosition, this.minTop, this.minBottom);\n\t\tif (hasOne) {\n//\t\t\tabselem.top = Math.max(yPos.above + 3, abselem.top); // TODO-PER: Not sure why we need this fudge factor.\n\t\t}\n\t\tleftDecoration(decoration, abselem, roomtaken);\n\t};\n\nmodule.exports = Decoration;\n"},"lineCount":329}},"error":null,"hash":"38e48eff5edfdd1850edb9d51ecc4e87","cacheData":{"env":{}}}